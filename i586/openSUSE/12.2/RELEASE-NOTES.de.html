<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>openSUSE 12.2 Versionshinweise</title><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="de" class="article"><div class="titlepage"><div><div><h2 class="title"><a name="id2319025"></a><span class="phrase">openSUSE 12.2</span> Versionshinweise</h2></div></div><hr></div><p>Version:</p><p>12.2.9 (2012-10-22)</p><p>Copyright © 2012 Novell, Inc.</p><p>Sie können dieses Dokument unter den Bedingungen der GNU-Free-Documentation-Lizenz (Version 1.2 oder jede später durch die Free-Software-Foundation veröffentlichte Version) kopieren, verteilen und/oder bearbeiten; mit keinen invarianten Abschnitten, Deckblatt- und Rückseitentexten. Eine Kopie der Lizenz ist als Datei <code class="filename">fdl.txt</code> enthalten.</p><p>Wenn Sie von einer älteren Version auf diese openSUSE-Veröffentlichung aktualisieren, schauen Sie bitte in die hier  <a class="ulink" href="http://de.opensuse.org/openSUSE:Release_Notes" target="_top">http://de.opensuse.org/openSUSE:Release_Notes</a> aufgeführten Versionshinweise.</p><p>Diese Versionshinweise decken die folgenden Bereiche ab:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="#misc" title="1. Verschiedenes">Abschnitt 1, „Verschiedenes“</a>: Diese Einträge wurden automatisch aus openFATE (<a class="ulink" href="http://features.opensuse.org" target="_top">http://features.opensuse.org</a>) integriert. </p><p>N/A</p></li><li class="listitem"><p><a class="xref" href="#installation" title="2. Installation">Abschnitt 2, „Installation“</a>: Lesen Sie diesen Abschnitt, wenn Sie das System komplett neu installieren möchten.</p></li><li class="listitem"><p><a class="xref" href="#general" title="3. Allgemeines">Abschnitt 3, „Allgemeines“</a>: Informationen die jeder lesen sollte.</p></li><li class="listitem"><p><a class="xref" href="#upgrade" title="4. System Aktualisierung">Abschnitt 4, „System Aktualisierung“</a>: Probleme die auftreten können, wenn von einer vorherigen auf diese openSUSE-Version aktualisiert werden soll.</p></li><li class="listitem"><p><a class="xref" href="#technical" title="5. Technisch">Abschnitt 5, „Technisch“</a>: Dieser Abschnitt enthält eine Reihe technischer Änderungen und Erweiterungen für erfahrenere Benutzer.</p></li></ul></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="misc"></a>1. Verschiedenes</h2></div></div></div><p>N/A</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation"></a>2. Installation</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2584407"></a>2.1. Für detaillierte Installationshinweise</h3></div></div></div><p>Für detaillierte Informationen, lesen Sie bitte in der <span class="quote">„<span class="quote">openSUSE-Dokumentation</span>“</span> nach.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="general"></a>3. Allgemeines</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.115.documentation"></a>3.1. openSUSE-Dokumentation</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In 'Start-Up' finden Sie Schritt-für-Schritt-Anleitungen, sowie Einführungen in die KDE- und Gnome-Desktops und die LibreOffice-Suite. Ebenfalls enthalten sind grundlegende Administrations Themen, wie Einsatz- und Software-Management und eine Einführung in die bash-Shell</p></li><li class="listitem"><p>Das Referenz-Handbuch behandelt Einsatz, Verwaltung und Systemkonfiguration ausführlich und erklärt, wie die verschiedenen Netzwerkdienste eingerichtet werden.</p></li><li class="listitem"><p>Das Sicherheits-Handbuch stellt grundlegende Konzepte der Systemsicherheit vor und behandelt sowohl lokale als auch Netzwerk-Sicherheitsaspekte.</p></li><li class="listitem"><p>Der System-Analyse- und Tuning-Guide hilft bei der Problemerkennung, -Auflösung und Optimierung</p></li><li class="listitem"><p>Virtualisierung mit KVM bietet eine Einführung in die Einrichtung und Verwaltung von Virtualisierungstechniken mit KVM, libvirt und QEMU-Tools.</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2584501"></a>3.2. Speichertest vor der Installation identifiziert fälschlich guten Speicher als defekt</h3></div></div></div><p>Der Speichertest vor der Installation (<span class="command"><strong>memtest</strong></span>) bei
openSUSE 12.2 wurde fehlkompiliert.  Der Test signalisiert Fehler bei
Test 7 für gute RAM-Module.  Verwenden Sie das Medium von openSUSE 12.1,
wenn Sie <span class="command"><strong>memtest</strong></span> ausführen müssen.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrade"></a>4. System Aktualisierung</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.zypper-openssh"></a>4.1. Fernaktualisierung mit "zypper dup"</h3></div></div></div><p>Wenn Sie eine Aktualisierung von openSUSE 12.1 (oder älter) vornehmen, werden alle openSSH-Verbindungen unterbrochen, wenn das Paket openssh aktualisiert wird. Wenn Sie "zypper dup" über eine SSH-Verbindung ausführen, stellen Sie sicher, dass Sie dies in einem wiederherstellbaren Terminal-Multiplexer tun (z.B. "screen" oder "tmux"), so dass Sie die Terminalsitzung nach einem Verbindungsabbruch wiederherstellen können oder sichern Sie das Fortlaufen von zypper auf eine andere Weise (z.B. mit "nohup").</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.sysv"></a>4.2. sysvinit veraltet</h3></div></div></div><p>Einige Desktopkomponenten bauen auf Dienste auf, die nur von systemd bereitgestellt werden. Obwohl openSUSE 12.2 immer noch eine grundlegende Unterstützung für sysvinit als Rückfallebene mitbringt, wird sysvinit nicht mehr als aktuell betrachtet und ist möglicherweise fehleranfällig oder funktioniert in mancher Hinsicht nicht richtig. Wenn Sie also irgendwelche Probleme beim booten mit sysvinit haben, benutzen Sie bitte zuerst systemd, bevor Sie einen Fehlerbericht ausfüllen.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.cryptoloop"></a>4.3. mount und losetup bieten keine Unterstützung mehr für cryptoloop</h3></div></div></div><p><span class="command"><strong>cryptoloop</strong></span> hat bekannte Schwächen und wird, schon seit Jahren, zu Gunsten von <span class="command"><strong>dm-crypt</strong></span> als obsolet betrachtet. <span class="command"><strong>mount</strong></span> (z.B. via <code class="filename">/etc/fstab</code>) und <span class="command"><strong>losetup</strong></span> haben nun auch endlich die Unterstützung für <span class="command"><strong>cryptoloop</strong></span> einstellt. Das bedeutet, dass alte fstab-Einträge, die <span class="command"><strong>cryptoloop</strong></span> benutzen, um auf verschlüsselte Container zuzugreifen nicht mehr auf diese Weise funktionieren werden. Trotzdem können Sie immer noch mit <span class="command"><strong>dm-crypt</strong></span> (<code class="filename">/etc/crypttab</code>) auf diese Container zugreifen. Ziehen Sie <a class="ulink" href="http://en.opensuse.org/Encrypted_Filesystems" target="_top">http://en.opensuse.org/Encrypted_Filesystems</a> zu Rate, um Beispiele für diese neue Methode zu finden.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="crypto-part-systemd"></a>4.4. Verschlüsselte Partitionen mit Systemd einhängen</h3></div></div></div><p>Wenn verschlüsselte Partitionen mit 'systemd' nicht automatisch verwendet werden, könnte dies an einem <code class="literal">noauto</code> Flag in <code class="filename">/etc/fstab</code> der betreffenden Partitionen liegen. Ersetzen Sie das <code class="literal">noauto</code> durch <code class="literal">nofail</code> mit abändern der folgende Zeile von:</p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,noauto 0 2</pre><p>in</p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,nofail 0 2</pre></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="technical"></a>5. Technisch</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.114.kms"></a>5.1. Initialisierung der Grafik mit KMS (Kernel Mode Setting)</h3></div></div></div><p>Mit erscheinen von openSUSE 11.3 wechselten wir zu KMS (Kernel Mode Setting) für Intel, ATI und NVIDIA-Grafik. Wenn Probleme mit der KMS-Treiber-Unterstützung (Intel, radeon, nouveau) auftreten, deaktivieren Sie KMS indem Sie <code class="literal">nomodeset</code> der Kernel-Boot-Befehlszeile hinzufügen. Um diese Einstellung mit Grub 2, dem Standard-Bootloader, dauerhaft zu speichern, fügen Sie diesen Eintrag als root bei <code class="literal">GRUB_CMDLINE_LINUX_DEFAULT</code> in Ihre <code class="filename">/etc/default/grub</code> ein und führen anschließend, ebenfalls als root, den folgenden Befehl in einem Terminal aus:</p><pre class="screen">sudo /usr/sbin/grub2-mkconfig --output=/boot/grub2/grub.cfg</pre><p>damit die Änderungen in kraft treten. Für das alte Grub, fügen Sie als root, den Eintrag in dem Kernel-Parameter in <code class="filename">/boot/grub/menu.lst</code> hinzu. Diese Option stellt sicher das die passenden Kernel-Module (intel, radeon, nouveau) mit dem Parameter <code class="literal">modset=0</code> in <code class="filename">initrd</code> geladen werden, d.h. KMS ist deaktiviert.</p><p>In den seltenen Fällen kann das Laden des DRM-Modul von <code class="filename">initrd</code> ein generelles Problem darstellen. Dazu kann dann die Variable <code class="literal">NO_KMS_IN_INITRD</code> via YaST → System → 'Editor für /etc/sysconfig' im Menü/Reiter: 'Kernel' dauerhaft von Standardwert: <code class="literal">no</code> auf <code class="literal">yes</code> abgeändert werden. Beim Beenden wird <code class="filename">initrd</code> neu eingelesen und die geänderte Einstellung beim System-Neustart aktiv.</p><p>Auf Intel Hardware ohne KMS (Kernel-Kode-Setting), fällt <code class="literal">X.org</code> auf den <code class="literal">fbdev</code> Treiber (die Intel-Treiber unterstützt nur KMS) zurück. Alternativ dazu steht für ältere GPUs von Intel, der "intellegacy" Treiber (<code class="systemitem">xorg-x11-driver-video-intel-legacy</code> Paket) zur Verfügung. Um diesen benutzen zu können, muss <code class="filename">/etc/X11/xorg.conf.d/50-device.conf</code> editiert werden. Dazu den Eintrag des Treibers nun auf: <code class="literal">intellegacy</code> abändern.</p><p>Auf ATI Hardware für aktuelle GPUs fällt das System wieder auf <code class="literal">radeonhd</code> zurück um mit NVIDIA Hardware ohne KMS den <code class="literal">nvTreiber zu verwenden (der Nouveau-Treiber unterstfbdev Treiber nur verwenden, wenn nomodeset als Kernel-Boot-Paramente gesetzt wird.</code></p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-sysvinit"></a>5.2. Starten mit dem veralteten sysvinit</h3></div></div></div><p>Standardmäßig startet openSUSE nun mit <span class="command"><strong>systemd</strong></span>. Bei Problemen können Sie versuchen mit der veralteten Methode über <span class="command"><strong>sysvinit</strong></span> starten. Drücken Sie dazu im Bootmenü die Taste 'F5'. Um weitere Informationen über die Beschränkungen beim Booten mit sysvinit zu erhalten, lesen Sie <a class="xref" href="#sec.122.sysv" title="4.2. sysvinit veraltet">Abschnitt 4.2, „sysvinit veraltet“</a>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-ctl"></a>5.3. Systemd: Die Versorgung Service Start-up-Parameter</h3></div></div></div><p><span class="command"><strong>systemctl</strong></span> unterstützt nur "Standard" -Parameter (siehe <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities" target="_top">http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities</a>.</p><p>Dieses neue Verhalten kann durch Aufruf des Start-up-Skript direkt, zum Beispiel zu umgangen werden:</p><pre class="screen">cd /etc/init.d
./apache2 &lt;your_parameters&gt;
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-shutdown"></a>5.4. systemd: System herunterfahren</h3></div></div></div><p>Um das System zum Herunterfahren zu bewegen, nutzen Sie Ausgabe <span class="command"><strong>halt-p</strong></span> oder <span class="command"><strong>shutdown-h now</strong></span> auf der Kommandozeile. Oder ändern Sie die Belegung der Taste zum 'Herunterfahren' über 'Systemeinstellungen → Anmeldebildschirm → Herunterfahren' auf den Wert: <span class="command"><strong>/sbin/shutdown-h -P now</strong></span> ab.</p><p>Hinweis: Ein einfaches <span class="command"><strong>/sbin/halt</strong></span> fährt das System nicht herunter.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpfs"></a>5.5. systemd: die Nutzung von tmpfs: /run, /var/run, /media, etc.</h3></div></div></div><p>systemd legt verschiedene Verzeichnisse an, die zur vorübergehenden Speicherung von Daten dienen. Dateisysteme tmpfs: <code class="filename">/run</code>, <code class="filename">/var/run</code>, <code class="filename">/var/lock</code>, und <code class="filename">/media</code> sind solche Verzeichnisse. Mehr Information darüber finden sich auf <a class="ulink" href="http://lwn.net/Articles/436012/" target="_top">http://lwn.net/Articles/436012/</a>.</p><p>Hinweis: Besser keine Daten in <code class="filename">/run</code>, <code class="filename">/var/run</code>, etc aufbewahren, weil diese beim Systemneustart gelöscht werden.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpdir"></a>5.6. systemd: Verzeichnisse aufräumen (/tmp und /var/tmp)</h3></div></div></div><p>systemd unterhält Verzeichnisse wie in <code class="filename">tmpfiles.d</code> Verzeichnis und in <code class="filename">/lib/systemd/system/systemd-tmpfiles-clean.timer</code> angegebenen. Mehr Informationen finden sich in <code class="filename">tmpfiles.d</code> manpage.</p><p>Standardmäßig reinigt systemd das <code class="filename">tmp</code> Verzeichnis als tägliche Konfiguration in <code class="filename">/usr/lib/tmpfiles.d/tmp.conf</code>:</p><pre class="screen">d /tmp 1777 root root 10d
d /var/tmp 1777 root root 30d
</pre><p>Hinweis: Systemd schenkt den sysconfig Variablen in <code class="filename">/etc/sysconfig/cron</code> keine Beachtung. Dies Betrifft z.B. <code class="literal">TMP_DIRS_TO_CLEAR</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.mount-usb"></a>5.7. Automatisches einhängen von USB-Medien</h3></div></div></div><p>Gnome und Xfce benutzten nun <code class="literal">udisks2</code> um USB-Medien automatisch unter <code class="filename">/run/media/$USER</code> einzuhängen. KDE benutzt noch udisks in der Version 1 und hängt USB-Medien unter <code class="filename">/media</code> ein.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.loopback"></a>5.8. Specifying Partitions for Loopback Devices</h3></div></div></div><p>
With Kernel 3.4 there are two ways to have partitions for loopback
devices. The first is with <code class="literal">max_part</code> and the second is
with the <code class="literal">-P</code> parameter to <span class="command"><strong>losetup</strong></span>.
They behave slightly differently since <code class="literal">-P</code> will
dynamically allocate minor numbers for each device (including adding or
removing them on the fly with <span class="command"><strong>blockdev
--rereadpt</strong></span>). Using the <code class="literal">max_part</code> parameter
causes each loop device to allocate that many minor numbers for each
device.
   </p><p>
So when you use <code class="literal">max_part=8</code> and do not change
<code class="literal">max_loop</code>, which defaults to <code class="literal">8</code>, you
are using all of the allocated minor numbers with the first device.
   </p><p>
The solution is either to use <code class="literal">-P</code> or to
<span class="emphasis"><em>also</em></span> use <code class="literal">max_loop</code>.
   </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2639288"></a>5.9. Zeitzoneninformationen in <code class="filename">/etc/adjtime</code></h3></div></div></div><p>Die dritte Zeile in <code class="filename">/etc/adjtime</code> enthält nun Informationen darüber, ob Ihre BIOS-Uhr auf UTC oder die lokale Zeitzone eingestellt ist (diese Einstellung wurde früher in der Variable <code class="literal">HWCLOCK</code> in <code class="filename">/etc/sysconfig/clock</code> gespeichert).</p><p>Falls <code class="filename">/etc/adjtime</code> inkorrekte drift-Informationen enthält (zum Beispiel, nachdem Datum und Uhrzeit mit <span class="command"><strong>ntpdate</strong></span> aktualisiert wurde oder wenn <span class="command"><strong>ntpd</strong></span> läuft), setzten Sie die Variable <code class="literal">USE_ADJUST</code> in <code class="filename">/etc/sysconfig/clock</code> auf "<code class="literal">no</code>".</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2639365"></a>5.10. GNU tar erstellt nun standardmäßig POSIX-konforme Archive</h3></div></div></div><p>GNU tar verwendet ab sofort standardmäßig <code class="literal">--format=posix</code> und erstellt POSIX-konforme Archive mit PAX extended Headers. Überprüfen Sie ob Ihre Skripte und Anwendungen mit diesem Format Kompatibel sind.</p><p>Das frühere Verhalten (und Standard der Entwickler) kann durch das setzten der folgenden Umgebungsvariable wiederhergestellt werden:</p><pre class="screen">TAR_OPTIONS='--format=gnu'</pre><p>oder</p><pre class="screen">TAR_OPTIONS='--pax-option=delete=[ac]time*'</pre></div></div></div></body></html>
