<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Notas de lançamento do openSUSE 12.2</title><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="pt_BR" class="article"><div class="titlepage"><div><div><h2 class="title"><a name="id2355893"></a>Notas de lançamento do <span class="phrase">openSUSE 12.2</span></h2></div></div><hr></div><p>Versão:</p><p>12.2.9 (2012-10-22)</p><p>Copyright © 2012 Novell, Inc.</p><p>São cedidos os direitos de cópia, distribuição e/ou alteração deste documento, segundo os termos da Licença Gratuita de Documentação GNU, Versão 1.2 ou qualquer versão posterior publicada pela Free Software Foundation; sem seções invariantes, textos de capa e contracapa. Uma cópia desta licença está incluída como o arquivo <code class="filename">fdl.txt</code>.</p><p>Se você atualizar a partir de uma versão antiga para esta versão do openSUSE, veja as notas de lançamento antigas aqui: <a class="ulink" href="http://en.opensuse.org/openSUSE:Release_Notes" target="_top">http://en.opensuse.org/openSUSE:Release_Notes</a></p><p>Estas notas de lançamento abrangem as seguintes áreas:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="#misc" title="1. Diversos">Seção 1, “Diversos”</a>: Estas entradas são incluídas automaticamente do openFATE, o sistema de gerenciamento de recursos e requisitos (<a class="ulink" href="http://features.opensuse.org" target="_top">http://features.opensuse.org</a>).</p><p>N/D</p></li><li class="listitem"><p><a class="xref" href="#installation" title="2. Instalação">Seção 2, “Instalação”</a>: Leia isto se você quer instalar o sistema desde o início.</p></li><li class="listitem"><p><a class="xref" href="#general" title="3. Geral">Seção 3, “Geral”</a>: Informações que todos devem ler.</p></li><li class="listitem"><p><a class="xref" href="#upgrade" title="4. Atualização do sistema">Seção 4, “Atualização do sistema”</a>: Problemas relacionados ao processo se você realizar uma atualização do sistema a partir de uma versão anterior do openSUSE.</p></li><li class="listitem"><p><a class="xref" href="#technical" title="5. Técnico">Seção 5, “Técnico”</a>: Esta seção contém vários aperfeiçoamentos e alterações técnicas para o usuário avançado.</p></li></ul></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="misc"></a>1. Diversos</h2></div></div></div><p>N/D</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation"></a>2. Instalação</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2612432"></a>2.1. Para informações detalhadas sobre a instalação</h3></div></div></div><p>Para informações detalhadas sobre a instalação consulte a <span class="quote">“<span class="quote">Documentação do openSUSE</span>”</span> referenciada abaixo.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="general"></a>3. Geral</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.115.documentation"></a>3.1. Documentação do openSUSE</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>No Guia de Inicialização, encontre instruções passo-a-passo, bem como introduções às áreas de trabalho KDE e Gnome e à suíte LibreOffice.Também são cobertos tópicos básicos de administração, como implantação e gerenciamento de software e uma introdução ao bash shell.</p></li><li class="listitem"><p>O Guia de Referência cobre a administração e configuração do sistema em detalhes e explica como configurar vários serviços de rede.</p></li><li class="listitem"><p>O Guia de Segurança introduz conceitos básicos de segurança do sistema, cobrindo ambos os aspectos de segurança local e de rede.</p></li><li class="listitem"><p>O Guia de Análise e Ajuste do Sistema ajuda com problemas de detecção, resolução e otimização.</p></li><li class="listitem"><p>O Guia de Virtualização com o KVM oferece uma introdução sobre a configuração e gerenciamento de virtualização com as ferramentas KVM, libvirt e QEMU.</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2612531"></a>3.2. Teste de memória antes da instalação identifica incorretamente memória boa como ruim</h3></div></div></div><p>O test de memória antes da instalação (<span class="command"><strong>memtest</strong></span>) na mídia do openSUSE 12.2 foi mal compilada. Ela reporta erros no teste 7 em módulos de memória RAM bons. Use a mídia do openSUSE 12.1 se você precisar executar o <span class="command"><strong>memtest</strong></span>.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrade"></a>4. Atualização do sistema</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.zypper-openssh"></a>4.1. Atualização remota via "zypper dup"</h3></div></div></div><p>Ao atualizar do openSUSE 12.1 (ou mais antigo), as conexões openSSH serão fechadas quando o novo pacote openssh for atualizado. Se você está atualizando através do "zypper dup" sobre SSH, execute "zypper dup" dentro de terminal multiplexador que suporta continuar (por ex., "screen" ou "tmux") para que você possa reconectar facilmente, ou pelo menos esteja imune a perda de conexão (por ex., via "nohup").</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.sysv"></a>4.2. sysvinit obsoleto</h3></div></div></div><p>Alguns componentes da área de trabalho dependem de serviços fornecidos somente pelo systemd. Por isso enquanto o openSUSE 12.2 ainda tem um suporte básico para inicializar um sistema com o sysvinit como alternativa, mesmo assim o sysvinit é considerado obsoleto e provavelmente até problemático ou quebrado de alguma forma. Se você tiver algum problema com um sistema inicializado pelo sysvinit, use o systemd antes de preencher relatórios de erros.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.cryptoloop"></a>4.3. mount e losetup descartaram o suporte ao cryptoloop</h3></div></div></div><p>O <span class="command"><strong>cryptoloop</strong></span> tem sua fraqueza conhecida e por isto foi considerado obsoleto em favor do <span class="command"><strong>dm-crypt</strong></span> a anos. O <span class="command"><strong>mount</strong></span> (por ex., via <code class="filename">/etc/fstab</code>) e o <span class="command"><strong>losetup</strong></span> finalmente descartaram o suporte ao <span class="command"><strong>cryptoloop</strong></span>. Isto significa que entradas antigas do fstab que usam o <span class="command"><strong>cryptoloop</strong></span> para acessar contenedores criptografados não irão mais funcionar desta forma. Os contenedores ainda podem ser acessados com o <span class="command"><strong>dm-crypt</strong></span> (<code class="filename">/etc/crypttab</code>). Consulte <a class="ulink" href="http://en.opensuse.org/Encrypted_Filesystems" target="_top">http://en.opensuse.org/Encrypted_Filesystems</a> por exemplos de como usar o novo método.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="crypto-part-systemd"></a>4.4. Montando Partições Criptografadas usando o systemd</h3></div></div></div><p>Se as partições criptografadas não forem montadas automaticamente ao utilizar o systemd, o indicador <code class="literal">noauto</code> em <code class="filename">/etc/fstab</code> para essas partições pode ser a causa. A substituição do indicador por <code class="literal">nofail</code> o consertará. Altere a seguinte linha:</p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,noauto 0 2</pre><p>para</p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,nofail 0 2</pre></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="technical"></a>5. Técnico</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.114.kms"></a>5.1. Inicializando a placa de vídeo com KMS (Kernel Mode Setting)</h3></div></div></div><p>Com o openSUSE 11.3 nós mudamos para o KMS (Kernel Mode Setting) para as placas de vídeo Intel, ATI e NVIDIA, que agora é nosso padrão. Se você encontrou problemas com o suporte ao driver KMS (intel, radeon, nouveau), desabilite o KMS adicionando <code class="literal">nomodeset</code> à linha de comando de inicialização do kernel. Para definir isto permanentemente usando o Grub2, o carregador de inicialização padrão, adicione isto à linha de carregamento padrão do kernel <code class="literal">GRUB_CMDLINE_LINUX_DEFAULT</code> no seu arquivo de configuração <code class="filename">/etc/default/grub</code> como root e executando o seguinte comando no terminal</p><pre class="screen">sudo /usr/sbin/grub2-mkconfig --output=/boot/grub2/grub.cfg</pre><p>para as alterações terem efeito. Para o Grub antigo, adicione isto à linha de comando do kernel em <code class="filename">/boot/grub/menu.lst</code>, também como root. Esta opção faz com que o módulo do kernel apropriado (intel, radeon, nouveau) seja carregado com <code class="literal">modeset=0</code> no <code class="filename">initrd</code>, isto é, com o KMS desabilitado.</p><p>Em casos raros, ao carregar o módulo DRM a partir do <code class="filename">initrd</code> é um problema geral e não relacionado ao KMS, é ainda possível desabilitar o carregamento do módulo DRM no <code class="filename">initrd</code> completamente. Para isto, defina a variável do sysconfig <code class="literal">NO_KMS_IN_INITRD</code> para <code class="literal">yes</code> através do YaST, que irá recriar o <code class="filename">initrd</code>. Reinicie a máquina.</p><p>Na Intel sem o KMS o Xserver usa o driver <code class="literal">fbdev</code> (o driver <code class="literal">intel</code> somente suporta KMS); alternativamente, para GPUs antigas da Intel o driver "intellegacy" (pacote <code class="systemitem">xorg-x11-driver-video-intel-legacy</code>) está disponível, que ainda suporta o UMS (User Mode Setting). Para usá-lo, edite o arquivo <code class="filename">/etc/X11/xorg.conf.d/50-device.conf</code> e altere a entrada do driver para <code class="literal">intellegacy</code>.</p><p>Na ATI para as GPUs atuais, ele usa <code class="literal">radeonhd</code>. Na NVIDIA sem KMS o driver <code class="literal">nv</code> é usado (o driver <code class="literal">nouveau</code> somente suporta KMS). Note que, GPUs novas da ATI e da NVIDIA estão usando o <code class="literal">fbdev</code> se você especificar o parâmetro de inicialização do kernel <code class="literal">nomodeset</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-sysvinit"></a>5.2. Inicializando com o obsoleto sysvinit</h3></div></div></div><p>Por padrão, o openSUSE agora inicializa usando o <span class="command"><strong>systemd</strong></span>. Caso haja algum problema, você pode tentar retornar para o obsoleto <span class="command"><strong>sysvinit</strong></span> pressionando a tecla F5 na inicialização. Para mais informação sobre as limitações ao inicializar com o sysvinit, veja <a class="xref" href="#sec.122.sysv" title="4.2. sysvinit obsoleto">Seção 4.2, “sysvinit obsoleto”</a>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-ctl"></a>5.3. systemd: fornecendo parâmetros de início de serviço</h3></div></div></div><p>O <span class="command"><strong>systemctl</strong></span> suporta somente parâmetros "padrões" (consulte <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities" target="_top">http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities</a>).</p><p>Você pode sobrescrever este novo comportamento chamando o script de inicialização diretamente, por exemplo:</p><pre class="screen">cd /etc/init.d
./apache2 &lt;seus_parâmetros&gt;
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-shutdown"></a>5.4. systemd: desligamento do sistema</h3></div></div></div><p>Para desligar o sistema utilizando o <span class="command"><strong>systemd</strong></span>, digite <span class="command"><strong>halt -p</strong></span> ou <span class="command"><strong>shutdown -h now</strong></span> na linha de comando ou use o botão de desligamento fornecido por seu ambiente de trabalho.</p><p>Nota: um <span class="command"><strong>halt</strong></span> não desligará o sistema adequadamente.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpfs"></a>5.5. systemd: usando o tmpfs: /run, /var/run, /media, etc.</h3></div></div></div><p>O systemd monta diversos diretórios que devem conter apenas dados voláteis, como sistemas de arquivos tmpfs: <code class="filename">/run</code>, <code class="filename">/var/run</code>, <code class="filename">/var/lock</code> e <code class="filename">/media</code> são diretórios desse tipo. Para informações consulte <a class="ulink" href="http://lwn.net/Articles/436012/" target="_top">http://lwn.net/Articles/436012/</a>.</p><p>Nota: não armazene arquivos que devem sobreviver a uma reinicialização em <code class="filename">/run</code>, <code class="filename">/var/run</code>, etc.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpdir"></a>5.6. systemd: limpando diretórios (/tmp e /var/tmp)</h3></div></div></div><p>O systemd mantém diretórios como especificado nos diretórios <code class="filename">tmpfiles.d</code> e em <code class="filename">/lib/systemd/system/systemd-tmpfiles-clean.timer</code>. Para mais informações, consulte a página de manual <code class="filename">tmpfiles.d</code>.</p><p>Por padrão, o systemd limpa os diretórios <code class="filename">tmp</code> diariamente como configurado em <code class="filename">/usr/lib/tmpfiles.d/tmp.conf</code>:</p><pre class="screen">d /tmp 1777 root root 10d
d /var/tmp 1777 root root 30d
</pre><p>Nota: o systemd não segue as variáveis do sysconfig em <code class="filename">/etc/sysconfig/cron</code> tais como <code class="literal">TMP_DIRS_TO_CLEAR</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.mount-usb"></a>5.7. Montar automaticamente mídias USB</h3></div></div></div><p>O Gnome e o Xfce agora usam o <code class="literal">udisks2</code> para montar automaticamente as mídias USB em <code class="filename">/run/media/$USUÁRIO</code>. O KDE ainda usa o udisks versão 1 e monta as mídias USB em <code class="filename">/media</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.loopback"></a>5.8. Especificado partições para dispositivos loopback</h3></div></div></div><p>Com o kernel 3.4 existem duas formas de ter partições para dispositivos loopback. O primeiro é com <code class="literal">max_part</code> e o segundo é com o parâmetro <code class="literal">-P</code> para <span class="command"><strong>losetup</strong></span>. Eles têm comportamento um pouco diferentes, já que <code class="literal">-P</code> irá alocar dinamicamente números menores para cada dispositivo (incluindo adicionar ou removê-los na hora com <span class="command"><strong>blockdev --rereadpt</strong></span>). Usando o parâmetro <code class="literal">max_part</code> faz com que cada dispositivo loop aloque muitos números menores para cada dispositivo.</p><p>Então quando você usa <code class="literal">max_part=8</code> e não altera <code class="literal">max_loop</code>, que tem como padrão <code class="literal">8</code>, você está usando todos os números menores alocados para o primeiro dispositivo.</p><p>A solução é ou usar <code class="literal">-P</code> ou <span class="emphasis"><em>também</em></span> usar <code class="literal">max_loop</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2666908"></a>5.9. Informação de fuso horário em <code class="filename">/etc/adjtime</code></h3></div></div></div><p>A terceira linha do <code class="filename">/etc/adjtime</code> agora contém informação se seu relógio de BIOS está configurado para o fuso horário local ou UTC (anteriormente armazenado em <code class="literal">HWCLOCK</code> do arquivo <code class="filename">/etc/sysconfig/clock</code>).</p><p>Se <code class="filename">/etc/adjtime</code> conter informação derivada errada (por exemplo após fixar a hora e data com <span class="command"><strong>ntpdate</strong></span> ou ter o <span class="command"><strong>ntpd</strong></span> em execução), defina a variável <code class="literal">USE_ADJUST</code> para "<code class="literal">no</code>" no arquivo <code class="filename">/etc/sysconfig/clock</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2666983"></a>5.10. GNU tar tem como padrão criar arquivos compatíveis com o POSIX</h3></div></div></div><p>O GNU tar tem como padrão agora <code class="literal">--format=posix</code> e cria arquivos compatíveis com o POSIX com cabeçalhos PAX estendidos. Verifique se seus scripts e aplicativos são compatíveis com este formato.</p><p>O comportamento anterior (e padrão do 'upstream') pode ser restaurado configurando o ambiente:</p><pre class="screen">TAR_OPTIONS='--format=gnu'</pre><p>ou</p><pre class="screen">TAR_OPTIONS='--pax-option=delete=[ac]time*'</pre></div></div></div></body></html>
