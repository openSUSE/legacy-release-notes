<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>openSUSE 12.2 Release Notes</title><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="fi" class="article"><div class="titlepage"><div><div><h2 class="title"><a name="id2590702"></a><span class="phrase">openSUSE 12.2</span> Release
  Notes</h2></div></div><hr></div><p>Versio: </p><p>12.2.9 (2012-10-22)</p><p>Copyright © 2012 Novell, Inc.</p><p>Tätä dokumenttia saa kopioida, levittää ja/tai muokata GNU Free Documentation License -lisenssin ehtojen mukaisesti, kuten mainittu versiossa 1.2 tai missä tahansa myöhemmässä versiossa, jonka Free Software Foundation on julkaissut. Dokumentissa ei saa olla muuttumattomia osioita, eikä se saa olla etu- tai takakannen teksti. Kopio käyttöoikeussopimuksesta löytyy tiedostosta <code class="filename">fdl.txt</code>.</p><p>Jos päivität vanhemmasta versiosta nykyiseen openSUSE-julkaisuun, katso edelliset julkaisutiedot: <a class="ulink" href="http://en.opensuse.org/openSUSE:Release_Notes" target="_top">http://en.opensuse.org/openSUSE:Release_Notes</a></p><p>Nämä julkaisutiedot sisältävät seuraavat kohdat:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="#misc" title="1. Sekalaiset">Kohta 1, ”Sekalaiset”</a>: Nämä merkinnät sisältyvät automaattisesti openFATE-sisällönhallintajärjestelmään, the Feature- and Requirements Management System (<a class="ulink" href="http://features.opensuse.org" target="_top">http://features.opensuse.org</a>).</p><p>Ei saavilla</p></li><li class="listitem"><p><a class="xref" href="#installation" title="2. Asennus">Kohta 2, ”Asennus”</a>: Lue tästä, jos haluat aloittaa asennuksen aivan alusta.</p></li><li class="listitem"><p><a class="xref" href="#general" title="3. Yleistä">Kohta 3, ”Yleistä”</a>: Kaikille oleellista tietoa.</p></li><li class="listitem"><p><a class="xref" href="#upgrade" title="4. Järjestelmäpäivitys">Kohta 4, ”Järjestelmäpäivitys”</a>: Päivitysongelmat vanhemmasta openSUSE-versiosta nykyiseen versioon siirryttäessä.</p></li><li class="listitem"><p><a class="xref" href="#technical" title="5. Tekninen">Kohta 5, ”Tekninen”</a>: Tämä osio sisältää kokeneille käyttäjille suunnattua tietoa teknisistä muutoksista ja parannuksista.</p></li></ul></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="misc"></a>1. Sekalaiset</h2></div></div></div><p>Ei saavilla</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation"></a>2. Asennus</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2856018"></a>2.1. Yksityiskohtaisempaa tietoa asennuksesta</h3></div></div></div><p>For detailed installation information, see the <span class="quote">”<span class="quote">openSUSE
  Documentation</span>”</span> referenced below.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="general"></a>3. Yleistä</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.115.documentation"></a>3.1. openSUSE-dokumentaatio</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Aloitusoppaasta löydät askel askelelta etenevät asennusohjeet sekä johdatuksen KDE- ja GNOME-työpöytiin ja LibreOffice-toimisto-ohjelmistoon. Muita käsiteltäviä aiheita ovat hallinnan perusteet kuten käyttöönotto ja ohjelmistojen hallinta sekä johdatus komentoriviohjelmointiin (bash shell).</p></li><li class="listitem"><p>Käyttäjän opas kattaa hallinnan ja järjestelmämäärityksen yksityiskohdittain ja kertoo kuinka erilaisia verkkopalveluja pystytetään.</p></li><li class="listitem"><p>Turvaopas esittelee järjestelmän turvallisuuskäsitteet kattaen sekä paikallisen että verkkoturvallisuuden näkökulman.</p></li><li class="listitem"><p>Järjestelmän analysointi- ja säätöopas auttaa tunnistamaan ja ratkaisemaan ongelmia sekä optimoimaan järjestelmää.</p></li><li class="listitem"><p>Virtualisointi KVM:llä tarjoaa johdatuksen virtualisoinnin asentamiseen ja hallintaan KVM-, libvirt- ja QEMU-työkaluilla.</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2856119"></a>3.2. Pre-installation Memory Test Incorrectly Identifies Good
   Memory as Bad</h3></div></div></div><p>
The pre-installation memory test (<span class="command"><strong>memtest</strong></span>) on the
openSUSE 12.2 media got miscompiled. It reports errors in test 7 on good RAM
modules. Use the openSUSE 12.1 media if you need to run
<span class="command"><strong>memtest</strong></span>.
   </p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrade"></a>4. Järjestelmäpäivitys</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.zypper-openssh"></a>4.1. Remote Update via "zypper dup"</h3></div></div></div><p>
When upgrading from openSUSE 12.1 (or older), openSSH connections will be
closed when the new openssh package is upgraded. If you are upgrading with
"zypper dup" over SSH, run "zypper dup" inside a resumable terminal
multiplexer (e.g., "screen" or "tmux") so that you can re-connect easily,
or at least immune to connection loss (e.g., via "nohup").
   </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.sysv"></a>4.2. sysvinit poistettu käytöstä</h3></div></div></div><p>Osa työpöydän komponenteista vaatii palveluita joita vain systemd tarjoaa. Joten vaikka openSUSE 12.2 on vielä perustuki sysvinit käynnistykseen varalla, sysvinitiä pidetään käytöstä poistettuna ja ehkä tietyissä tapauksissa jopa viallisena tai rikkonaisena. Jos sinulla on ongelmia sysvinitillä käynnistetyssä järjestelmässä, käytä systemd:tä ennen bugiraportin tekemistä.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.cryptoloop"></a>4.3. mount ja losetup ohjelmien tuki cryptoloopille on lopetettu</h3></div></div></div><p><span class="command"><strong>cryptoloop</strong></span>:ssa on tunnettu heikkous ja siksi jo vuosia sen sijasta on suositeltu käyttämään <span class="command"><strong>dm-crypt</strong></span> -ohjelmaa. <span class="command"><strong>mount</strong></span> (esim., <code class="filename">/etc/fstab</code>-tiedoston kautta) ja <span class="command"><strong>losetup</strong></span> poistivat vihdoinkin tuen <span class="command"><strong>cryptoloop</strong></span>-ohjelmalta. Tämä tarkoittaa että vanhat fstab-merkinnät jotka käyttävät <span class="command"><strong>cryptoloop</strong></span>ia salattuihin säilöihin pääsyyn eivät enää toimi tällä tavoin. Säilöt ovat kuitenkin vielä käytettävissä komennolla <span class="command"><strong>dm-crypt</strong></span> (<code class="filename">/etc/crypttab</code>). Katso sivulta <a class="ulink" href="http://en.opensuse.org/Encrypted_Filesystems" target="_top">http://en.opensuse.org/Encrypted_Filesystems</a> esimerkit kuinka käyttää uutta tapaa.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="crypto-part-systemd"></a>4.4. Salattujen levyosioiden liittäminen ja systemd</h3></div></div></div><p>Jos systemd ei automaattisesti liitä salattuja levyosioita, syy voi olla <code class="filename">/etc/fstab</code>-tiedoston <code class="literal">noauto</code>-lipussa. Korvaamalla tämä <code class="literal">nofail</code>-lipulla ongelma ratkeaa. Esimerkiksi, muuta seuraava rivi:</p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,noauto 0 2</pre><p>-&gt; </p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,nofail 0 2</pre></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="technical"></a>5. Tekninen</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.114.kms"></a>5.1. Näytönohjaimet ja KMS (Kernel Mode Setting)</h3></div></div></div><p>
With openSUSE 11.3 we switched to KMS (Kernel Mode Setting) for Intel, ATI
and NVIDIA graphics, which now is our default. If you encounter problems with
the KMS driver support (intel, radeon, nouveau), disable KMS by adding
<code class="literal">nomodeset</code> to the kernel boot command line.

To set this permanently using Grub 2, the default boot loader, add it to
the <code class="literal">GRUB_CMDLINE_LINUX_DEFAULT</code> kernel default load
options line in your <code class="filename">/etc/default/grub</code> text file as
root and running the terminal command
   </p><pre class="screen">sudo /usr/sbin/grub2-mkconfig --output=/boot/grub2/grub.cfg</pre><p>
for the changes to take effect.  Else, for Grub Legacy, add it to the kernel
command line in <code class="filename">/boot/grub/menu.lst</code>, also done as root.

This option makes sure the appropriate kernel module (intel, radeon,
nouveau) is loaded with <code class="literal">modeset=0</code> in
<code class="filename">initrd</code>, i.e. KMS is disabled.
   </p><p>Joissain harvinaisissa tapauksissa kun DRM-moduulin lataus <code class="filename">initrd</code>-tiedostosta epäonnistuu KMS:stä riippumattomista syistä, DRM-moduulin lataus on mahdollista poistaa <code class="filename">initrd</code>-tiedostosta kokonaan YaSTilla: vaihda sysconfig-muuttujan <code class="literal">NO_KMS_IN_INITRD</code> arvoksi <code class="literal">yes</code>, jolloin <code class="filename">initrd</code> päivitetään. Käynnistä järjestelmä uudelleen.</p><p>Ilman KMS-toimintoa Intel käyttää Xserverin <code class="literal">fbdev</code>-ajuria (<code class="literal">intel</code>-ajuri tukee vain KMS:ää). Vaihtoehtona voi käyttää "intellegacy"-ajuria (<code class="systemitem">xorg-x11-driver-video-intel-legacy</code>-paketti), joka yhä tukee UMS:ää eli käyttäjän asettamaa tilaa. Käyttääksesi sitä muokkaa tiedostoa <code class="filename">/etc/X11/xorg.conf.d/50-device.conf</code> ja muuttaa ajuriksi <code class="literal">intellegacy</code>.</p><p>ATI:n tapauksessa uudemmat grafiikkasuorittimet tiputetaan <code class="literal">radeonhd</code>-ajuriin. NVIDIA ilman KMS:ää käyttää  <code class="literal">nv</code>-ajuria (<code class="literal">nouveau</code>-ajuri tukee vain KMS:ää). Huomioi, uudemmat ATI ja NVIDIA GPU:t palaavat <code class="literal">fbdev:iin</code>, jos määrittelet <code class="literal">nomodeset</code> ytimen käynnistysparametrit.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-sysvinit"></a>5.2. Käynnistä käyttäen käytöstä poistettua sysvinit -ohjelmaa</h3></div></div></div><p>Oletuksena openSUSE käynnistyy käyttäen <span class="command"><strong>systemd</strong></span>. Ongelmatilanteissa voit vaihtaa takaisin vanhaan tapaan <span class="command"><strong>sysvinit</strong></span> painamalla F5-painiketta koneen käynnistyessä. Lisätietoja rajoituksista käynnistettäessä käyttämällä sysvinit -ohjelmaa, katso <a class="xref" href="#sec.122.sysv" title="4.2. sysvinit poistettu käytöstä">Kohta 4.2, ”sysvinit poistettu käytöstä”</a>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-ctl"></a>5.3. systemd: Määritetään palvelun käynnistysparametrit</h3></div></div></div><p><span class="command"><strong>systemctl</strong></span> tukee vain "standardiparametrejä" (katso <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities" target="_top">http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities</a>).</p><p>Voit ohittaa tämän uuden toiminnan kutsumalla start-up -komentojonoa suoraan, esimerkiksi:</p><pre class="screen">cd /etc/init.d
./apache2 &lt;sinun_parametri&gt;
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-shutdown"></a>5.4. systemd: Järjestelmän sammutus</h3></div></div></div><p>Pysäyttääksesi ja sammuttaaksesi järjestelmän <span class="command"><strong>systemd</strong></span>:n ollessa käytössä, anna komento <span class="command"><strong>halt -p</strong></span> tai <span class="command"><strong>shutdown -h now</strong></span>. Voit myös käyttää työpöytäympäristösi tarjoamaa sammutuspainiketta.</p><p>Huomio: pelkkä <span class="command"><strong>halt</strong></span>-komento ei sammuta järjestelmää asianmukaisesti.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpfs"></a>5.5. systemd: Käytetään tmpfs: /run, /var/run, /media, etc.</h3></div></div></div><p>systemd liittää useita hakemistoja, joissa on väliaikaisia tiedostoja esimerkiksi tmpfs-tiedostojärjestelmät <code class="filename">/run</code>, <code class="filename">/var/run</code>, <code class="filename">/var/lock</code> ja <code class="filename">/media</code> ovat tällaisia. Taustatietoa voit katsoa  <a class="ulink" href="http://lwn.net/Articles/436012/" target="_top">http://lwn.net/Articles/436012/</a>.</p><p>Huomio: Älä tallenna tiedostoja, joiden haluat säilyvän uudelleen käynnistyksen jälkeen hakemistoihin <code class="filename">/run</code>, <code class="filename">/var/run</code> ja niin edelleen.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpdir"></a>5.6. systemd: Hakemistojen tyhjennys  (/tmp ja /var/tmp)</h3></div></div></div><p>systemd ylläpitää hakemistoja, jotka ovat määritelty  <code class="filename">tmpfiles.d</code> hakemistoissa ja <code class="filename">/lib/systemd/system/systemd-tmpfiles-clean.timer</code> tiedostossa.  Lisää tietoa löytyy <code class="filename">tmpfiles.d</code> man-sivuilta.</p><p>Oletuksena systemd tyhjentää <code class="filename">tmp</code> hakemistot päivittäin siten kuin <code class="filename">/usr/lib/tmpfiles.d/tmp.conf</code> tiedostossa on määritetty:</p><pre class="screen">d /tmp 1777 root root 10d
d /var/tmp 1777 root root 30d
</pre><p>Huomio: systemd ei välitä sysconfig muuttujista  <code class="filename">/etc/sysconfig/cron</code> tiedostossa kuten <code class="literal">TMP_DIRS_TO_CLEAR</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.mount-usb"></a>5.7. Auto-mounting USB Media</h3></div></div></div><p>
    Gnome and Xfce now use <code class="literal">udisks2</code> to automatically
    mount USB media under <code class="filename">/run/media/$USER</code>.  KDE
    still uses udisks version 1 and mounts USB media under
    <code class="filename">/media</code>.

   </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.loopback"></a>5.8. Specifying Partitions for Loopback Devices</h3></div></div></div><p>
With Kernel 3.4 there are two ways to have partitions for loopback
devices. The first is with <code class="literal">max_part</code> and the second is
with the <code class="literal">-P</code> parameter to <span class="command"><strong>losetup</strong></span>.
They behave slightly differently since <code class="literal">-P</code> will
dynamically allocate minor numbers for each device (including adding or
removing them on the fly with <span class="command"><strong>blockdev
--rereadpt</strong></span>). Using the <code class="literal">max_part</code> parameter
causes each loop device to allocate that many minor numbers for each
device.
   </p><p>
So when you use <code class="literal">max_part=8</code> and do not change
<code class="literal">max_loop</code>, which defaults to <code class="literal">8</code>, you
are using all of the allocated minor numbers with the first device.
   </p><p>
The solution is either to use <code class="literal">-P</code> or to
<span class="emphasis"><em>also</em></span> use <code class="literal">max_loop</code>.
   </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2910898"></a>5.9. Aikavyöhyke tiedot <code class="filename">/etc/adjtime</code>-tiedostossa</h3></div></div></div><p>Tiedoston <code class="filename">/etc/adjtime</code> kolmas rivi sisältää tiedon siitä käyttääkö BIOS kello UTC:tä vai paikallista aikavyöhykettä (tallennettiin aiemmin <code class="filename">/etc/sysconfig/clock</code>-tiedoston <code class="literal">HWCLOCK</code> muuttujaan).</p><p>Jos <code class="filename">/etc/adjtime</code> sisältää väärän poikkeamatiedon (esimerkiksi päiväyksen ja ajan korjaamisen komennolla <span class="command"><strong>ntpdate</strong></span> tai jos <span class="command"><strong>ntpd</strong></span> on käynnissä), aseta muuttuja <code class="literal">USE_ADJUST</code> arvoon "<code class="literal">no</code>"  <code class="filename">/etc/sysconfig/clock</code>-tiedostossa.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id2910975"></a>5.10. GNU tar Defaults to Creating POSIX-compliant Archives</h3></div></div></div><p>
GNU tar now defaults to <code class="literal">--format=posix</code> and create
POSIX-compliant archives with PAX extended headers.  Check whether your
scripts and applications are compatible with this format.
   </p><p>
    The former behavior (and upstream default) can
    be restored by setting the environment:
   </p><pre class="screen">TAR_OPTIONS='--format=gnu'</pre><p>
    or
   </p><pre class="screen">TAR_OPTIONS='--pax-option=delete=[ac]time*'</pre></div></div></div></body></html>
