
 <h1>Poznámky k vydání openSUSE 12.1</h1>
 <p>Verze:</p>
 <p>12.1.12 (2012-04-13)</p>

 <p>Copyright © 2012 Novell, Inc.</p>
 <p>Tento text můžete kopírovat, distribuovat a/nebo měnit podle GNU Free Documentation License, verze 1.2 nebo novější, vydané Free Software Foundation. Není povoleno měnit sekce a přidávat text. Kopii licence najdete v souboru <tt>fdl.txt</tt>.</p>


 

 

 
 

 
 <p>Pokud aktualizujete openSUSE ze starší verze vydání, můžete si poznámky k vydání zobrazit zde: <tt>http://en.opensuse.org/openSUSE:Release_Notes</tt></p>

 
 
 <p>Tyto poznámky jsou děleny do následujících okruhů:</p>

 <ul>
  <li>
   <p>Různé: Tyto záznamy jsou automaticky vkládány z openFATE, systému správy požadavků a funkcí (<tt>http://features.opensuse.org</tt>).</p>
   <p>V tuto chvíli nejsou tyto útržky  seřazeny — pracujeme na vylepšování.</p>
  </li>

 <li>
   <p>Instalace: Toto si přečtěte, pokud chcete systém nainstalovat "na čisto".</p>
  </li>

 <li>
   <p>Obecné: Informace určené pro všechny uživatele.</p>
  </li>

  <li><p>Aktualizace systému: Problémy spojené s procesem aktualizace pokud přecházíte z dřívějších verzí na tuto verzi openSUSE.</p></li>

  <li><p>Technické: Sekce pro pokročilejší uživatele věnovaná technickým změnám a rozšířením.</p></li>
 </ul>


  <h2>Různé</h2>
    <h3>YaST AppArmor — konfigurační modul </h3><p>FATE kategorie pro <tt>https://features.opensuse.org/305278</tt>: AppArmor, YaST.</p>

<p>Konfigurační modul AppArmoru nyní naleznete v sekci "Bezpečnost a uživatelé" Ovládacího centra YaSTu.</p>


  




 
  <h2>Instalace</h2>
  
  
   <h3>Pro detailní informace k instalaci</h3>

  <p>Pro detailní informace k instalaci vizte 
  "openSUSE Dokumentaci"
 odkazovanou níže.</p>
  

 

 
  <h2>Obecné</h2>

  
  
   <h3>Dokumentace openSUSE</h3>

   <ul>
    <li><p>V Po spuštění (Start-Up) naleznete instalační instrukce krok za krokem a také úvod do desktopu KDE či Gnome. Taktéž úvod k balíku LibreOffice. Také jsou tam zahrnuty základní administrační témata jako například nasazení a správa softwaru a také úvod do Bash shellu.</p></li>
    <li>
     <p>Odkaz zahrnuje administraci, detailní nastavení systému a také vysvětluje, jak nastavit různé síťové služby.</p>
    </li>
    <li><p>Bezpečnostní příručka přináší základní koncepty zabezpečení systému, pokrývající místní i síťový pohled na bezpečnost.</p></li>
    <li><p>Příručka systémové analýzy a úprav pomáhá s hledáním problému, jeho řešení a optimalizaci.</p>
    </li>
    <li><p>Virtualizace s KVM nabízí úvod k nastavení a správě KVM virtualizace, libvirt a nástrojů QEMU.</p>
    </li>
   </ul>
  

  
   <h3>GNOME 3</h3>
   
   <p>GNOME 3 nabízí nový design desktopu, který je odlišný od GNOME 2. Jako výsledek a pořádek k tomu, aby uživatelé mohli využít změn, vzhled a ovládání desktopu GNOME 2 nebude zmigrováno automaticky. K úpravám GNOME 3 je použito Nastavení systému. Pro ještě detailnější přizpůsobení je poskytován pokročilý nástroj (<tt>gnome-tweak-tool</tt>).</p>
   <p>Standardní režim GNOME 3 vyžaduje v grafických ovladačích podporu 3D akcelerace. Pokud není 3D akcelerace k dispozici, GNOME 3 použije náhradní režim. Pokud je v GNOME 3 detekována dostupnost 3D akcelerace, ale standardní režim je nepoužitelný, pak jste pravděpodobně našli chybu v grafických ovladačích. Náhradní režim můžete vynutit parametrem <tt>gnome.fallback=1</tt> na startovacím řádků v zavaděči grub.</p>
   <p>Pokud použijete záchranný mód, můžete si přizpůsobit panely stiskem klávesy Alt předtím, než kliknete pravým tlačítkem na panel.</p>
   <p>Pro zběžný popis mnoha funkcí GNOME Shellu, jako klávesové zkratky, možnosti drag-and-drop (táhni a pusť) a speciálních nástrojů, navštivte stránku <tt>https://live.gnome.org/GnomeShell/CheatSheet</tt>.</p>
  

  
   <h3>Zvukový systém PulseAudio</h3>
   
   <p>Zvukový systém PulseAudio je nyní celosystémově integrovaný a povolený ve výchozím nastavení nové instalace. Pokud jste ho v předchozím vydání zakázali a chcete jej nyní povolit, zkontrolujte proměnnou <tt>PULSEAUDIO_ENABLE</tt> v konfiguračním souboru <tt>/etc/sysconfig/sound</tt>:</p>

   <p>Nastavte <tt>PULSEAUDIO_ENABLE</tt> na "<tt>yes</tt>" k vynucenému povolení PulseAudia všude. Nastavením <tt>PULSEAUDIO_ENABLE</tt> na "<tt>no</tt>" kompletně PulseAudio zakážete. Nastavením na "<tt>custom</tt>" říkáte, že chcete nechat upravenou konfiguraci nedotčenou.</p>
  


  
   
   <h3>Btrfs</h3>
   <p>Btrfs je souborový systém další generace pro Linux. Jako náhled nové technologie můžete vytvářet btrfs oddíly nebo nastavit celý systém s btrfs.</p>

   <p>Poznámka: souborový systém btrfs je pod aktivním vývojem a kontrolní a opravná funkcionalita ("scrub") byla přidána teprve nedávno. "Scrub" je zaměřen na ověření dat a metadata předpokládající stromovou strukturu jsou fajn; ten může (a by měl) být spouštěn pravidelně na připojeném souborovém systému: umí běžet jako proces na pozadí během normálního běhu.</p>

   <p>Tímto vám radíme, abyste opatrně uvážili, která data dáte na tento souborový systém a dodržujte obvyklé návyky pro redundanci a zálohování. Pro více informací vizte <tt>http://btrfs.wiki.kernel.org</tt>.</p>

   <p>Btrfs obsahuje mnoho zajímavých nových funkcí, včetně možnosti vytvářet snímky vašeho souborového systému. Snímky a návraty jsou podporovány příkazem <tt>snapper</tt> a jsou již zahrnuté ve vašem openSUSE balíčkovém nástroji a nástrojích pro správu systému, jako je <tt>zypper</tt> a YaST.</p>
  

  
   
   <h3>Přihlášení do domény Windows s KDM</h3>

   <p>KDM motiv SUSE neumožňuje přihlášení do domény Windows.</p>

   <p>K obejití této chyby nastavte prázdný řetězec volby DISPLAYMANAGER_KDM_THEME v souboru <tt>/etc/sysconfig/displaymanager</tt>, aby se použil výchozí motiv KDM:</p>

   <pre>DISPLAYMANAGER_KDM_THEME=""</pre>
  

  
   <h3>Externě dostupná Oracle Java</h3>
   <p>Balíček java-1_6_0-sun není již nadále součástí openSUSE z důvodu licenční změny. Nyní dodáváme sestavení OpenJDK jako náhradu. openSUSE uživatelé, kteří preferují používání binární verze Oracle JDK před sestavením OpenJDK, mohou stáhnout verzi ze stránek Oracle - <tt>http://oracle.com/java</tt>.</p>
  

  
   
   <h3>Removing 32-Bit XEN Hypervisor</h3>

   <p>
    The 32-Bit XEN Hypervisor is no longer available. Use the 64-bit
    XEN Hypervisor instead for 32-bit and 64-bit virtual guests.
   </p>
  

  
  
  
   <h3>Formatting Large Disk Partitions on Windows 8 Server</h3>
   <p>
Installing a guest hosted on Windows 8 Server may fail when a large
virtual disk image (larger than 50 GB) in <tt>.vhdx</tt>
format is assigned to the guest. To workaround this issue use either
virtual disk images with a fixed size, or create the dynamically sized
disk image using Powershell.
   </p>

   <dl>
    
     <dt>Technical Background about the Issue</dt>
     <dd>
      <p>
The <tt>.vhd</tt> and <tt>.vhdx</tt> images are
sparse files.  When a dynamic <tt>.vhdx</tt> is created with a
maximum size of 127 GB, the initial size is about 256 KB.  Because the
default block size for <tt>.vhdx</tt> files is 32 MB, writing
one 512 byte sector will result in a 32 MB section of the sparse file
being allocated.  When <tt>ext3</tt> is allocating the MBR,
the super block, the backup super blocks, inodes, directories, etc.,
space is being allocated in the sparse file.  Because of
<tt>ext3</tt>'s suboptimal IO, how the data structures are
laid out on disk, and the default block size, a large partition of the
<tt>.vhdx</tt> file is allocated just by formatting.  The
workaround is to create a <tt>.vhdx</tt> file with a 1 MB block
size rather than the default 32 MB.
      </p>
      <p>
Changing the block size in the UI is not implemented. It can only be
changed when the VHDx file is created through Powershell.  To create a
VHD with a modified block size, use this Powershell script (all in one
line):
      </p>

<pre>New-VHD -Path C:\MyVHDs\test.vhdx -SizeBytes (127GB)
  -Dynamic -BlockSizeBytes (1MB) -VHDFormat vhdx</pre>
     </dd>
    
   </dl>
  

  
   
   <h3>Configuring Postfix</h3>

   <p>
    There is no <tt>SuSEconfig</tt> postfix module any more.
    Thus <tt>SuSEconfig</tt> no longer writes the postfix
    configuration files, if you set sysconfig variables in
    <tt>/etc/sysconfig/postfix</tt> or
    <tt>/etc/sysconfig/mail</tt>.
   </p>

   <p>
    After modifying sysconfig variables you must manually run
    <tt>/usr/sbin/SuSEconfig.postfix</tt> as
    <tt>root</tt>.
   </p>
  

 

 
  <h2>Aktualizace systému</h2>

  
   
   <h3>Mounting Encrypted Partitions with dm-crypt</h3>

   <p>
On ancient SUSE systems, <tt>/etc/cryptotab</tt> was used
for setting up devices with the now deprecated cryptoloop
technology. 12.1 only supports <tt>/etc/crypttab</tt>
(without 'o'!), which uses dm-crypt. Users who still have a
<tt>cryptotab</tt> from the old days should run
<tt>convert_cryptotab</tt>, which prints instructions about
what to put in <tt>crypttab</tt> and
<tt>fstab</tt> instead.
   </p>
  

  
   
   <h3>Mounting Encrypted Partitions Using systemd</h3>
   <p>
If encrypted partitions are not automatically mounted when using
systemd, the <tt>noauto</tt> flag in
<tt>/etc/fstab</tt> for these partitions could be the
cause. Replacing this flag with <tt>nofail</tt> will fix
it. For instance, change the following line:</p>

<pre>/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,noauto 0 2</pre>
<p>na</p>
<pre>/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,nofail 0 2</pre>
  
 


 
  <h2>Technické</h2>
  
  
   <h3>Inicializace grafiky s KMS (Kernel Mode Setting)</h3>
   
   <p>V openSUSE 11.3 jsme přešli na KMS (Kernel Mode Setting) u grafických karet Intel, ATI a NVIDIA, což je nyní výchozí. Pokud narazíte na problémy s podporou ovladače KMS (intel, radeon, nouveau), vypněte KMS přidáním <tt>nomodeset</tt> do příkazové řádky pro startování jádra. Abyste to nastavili natrvalo, přidejte to do příkazové řádky jádra v souboru <tt>/boot/grub/menu.lst</tt>. Tato volba zajišťuje, že odpovídající jaderný modul (intel, radeon, nouveau) je načten s <tt>modeset=0</tt> v <tt>initrd</tt>, tzn. KMS je vypnuto.</p>

   <p>Ve vzácných případech je načítání modulu DRM z <tt>initrd</tt> obecný problém nesouvisející s KMS, lze dokonce možné v <tt>initrd</tt> úplně vypnout podporu modulu DRM. Abyste tak učinili, pomocí YaSTu nastavte proměnnou sysconfig <tt>NO_KMS_IN_INITRD</tt> na hodnotu <tt>yes</tt>, což poté způsobí znovuvytvoření <tt>initrd</tt>. Pak restartujte počítač.</p>

   <p>Na grafikách Intel bez KMS se Xserver vrací zpět k ovladači <tt>fbdev</tt> (ovladač <tt>intel</tt> podporuje pouze KMS).  Alternativně pro starší Intelovské GPU je k dispozici ovladač "intellegacy" (balíček <tt>xorg-x11-driver-video-intel-legacy</tt>), který stále podporuje UMS (User Mode Setting = uživatelský mód nastavení). K jeho použití upravte <tt>/etc/X11/xorg.conf.d/50-device.conf</tt> a změňte záznam "driver" na <tt>intellegacy</tt>.</p>

   <p>Na grafikách ATI se současnými GPU se vrací k <tt>radeonhd</tt>. U grafických karet NVIDIA bez KMS je použit ovladač <tt>nv</tt> (ovladač <tt>nouveau</tt> podporuje pouze KMS). Nutno poznamenat, že novější grafické karty ATI a NVIDIA se vrací k <tt>fbdev</tt>, pokud uvedete jako spouštěcí parametr jádra <tt>nomodeset</tt>.</p>
  

  
   
   <h3>Zvukový výstup Radeon HDMI je zakázaný</h3>

   <p>Kvůli problémům některého hardwaru je v ovladači radeon, který je výchozím ovladačem pro grafické karty AMD/ATI, ve výchozím nastavení zakázán zvukový výstup HDMI.</p>
   <p>Může být povolen přidáním parametru <tt>radeon.audio=1</tt> jako parametr jádra v zavaděči grub. V YaSTu otevřete Systém -&gt; Zavaděč, pak u výchozího záznamu klikněte na Upravit a poté přidejte na konec 'Volitelné parametry příkazového řádku jádra' následující:</p>

   <pre>radeon.audio=1</pre>

   <p>Poté restartujte počítač, abyste uplatnili změnu.</p>
   <p>Alternativně si mohou uživatelé nainstalovat proprietární ovladač od AMD. Pro více informací navštivte <tt>http://en.opensuse.org/SDB:ATI_drivers</tt>.</p>
  

  
   
   <h3>Spouštění s systemd nebo sysvinit</h3>

   <p>Jako výchozí nyní se openSUSE spouští pomocí <tt>systemd</tt>. V případě potíží můžete se vrátit k původním způsobu za použití <tt>sysvinit</tt> tak, že v zavaděči stisknete klávesu F5.</p>

   <p>Pokud chcete trvale přejít k <tt>sysvinit</tt>, nainstalujte si balíček <tt>sysvinit-init</tt>. Pro opětovný návrat k <tt>systemd</tt> přeinstalujte balíček <tt>systemd-sysvinit</tt>.</p>
  

  
   
   <h3>systemd: Dodání spouštěcích parametrů služeb</h3>
   <p><tt>systemctl</tt> podporuje pouze "standardní" parametry (čtěte <tt>http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities</tt>).</p>
   <p>Toto nové chování můžete obejít voláním startovacích skriptů přímo, například:</p>
   <pre>cd /etc/init.d
./apache2 &lt;vaše_parametry&gt;
</pre>
  

  
   
   <h3>systemd: Vypnutí systému</h3>

   <p>Když používáte systemd,  k zastavení a vypnutí systému zadejte v příkazovém řádku <tt>halt -p</tt> nebo <tt>shutdown -h now</tt> a nebo použijte vypínací tlačítko vašeho desktopového prostředí.</p>

   <p>Poznámka: Jednoduché <tt>halt</tt> nevypne systém řádně.</p>
  

  
   
   <h3>systemd: Vytváří se použití tmpfs: /run, /var/run, /media, etc.</h3>

   <p>systemd připojuje několik adresářů, které jsou zamýšlené tak, aby obsahovaly pouze dočasná data, jako souborového systémy tmpfs. Jsou to adresáře: <tt>/run</tt>, <tt>/var/run</tt>, <tt>/var/lock</tt> a <tt>/media</tt>. Pro informace o pozadí vizte <tt>http://lwn.net/Articles/436012/</tt>.</p>

   <p>Poznámka: Neukládejte soubory, které mají přežít restart, do <tt>/run</tt>, <tt>/var/run</tt>, atd.</p>
  

  
   
   <h3>systemd: Čištění adresářů (/tmp a /var/tmp)</h3>

   <p>systemd udržuje adresáře, jak je uvedeno v <tt>tmpfiles.d</tt> adresářích a v <tt>/lib/systemd/system/systemd-tmpfiles-clean.timer</tt>. Pro více informací vizte manuálovou stránku <tt>tmpfiles.d</tt>.</p>

   <p>Jako výchozí, systemd čistí <tt>tmp</tt> adresáře denně, jak je nakonfigurováno v <tt>/usr/lib/tmpfiles.d/tmp.conf</tt>:</p>

<pre>d /tmp 1777 root root 10d
d /var/tmp 1777 root root 30d
</pre>

    <p>Poznámka: systemd nectí proměnné sysconfigu v <tt>/etc/sysconfig/cron</tt> jako je <tt>TMP_DIRS_TO_CLEAR</tt>.</p>
  

  
   
   <h3>CUPS 1.5</h3>
   <p>CUPS 1.5 přichází se zpětně nekompatibilními změnami:</p>
   <ul>
    <li>
     <p>CUPS již nadále nepodporuje konfigurační soubory z CUPS 1.1 <tt>~/.cupsrc</tt> nebo <tt>~/.lpoptions</tt>. Místo nich použijte <tt>~/.cups/client.conf</tt> a <tt>~/.cups/lpoptions</tt>, které byly uveden v CUPS 1.2.</p>
    </li>
    <li>
     <p>Plánovač nyní vyžaduje, aby filtry a backendy měly pro lepší bezpečnost zakázané oprávnění k zápisu. Pokud používáte ovladače tiskáren od třetích stran (výrobců) s volnějšími oprávněními k souborům, nastavte tato oprávnění ručně.</p>
    </li>
   </ul>
  

  
   
   <h3>Příkaz rename</h3>
   <p>V souladu s GNU Coding Standards (standardy kódu), příkaz rename nyní zachází se všemi řetězci, které začínají pomlčkou, jako parametr příkazového řádku. Abyste tomuto předešli, oddělte volby jednu od druhé pomocí <tt>--</tt>, jak je uvedeno níže:</p>
   <pre>#!/bin/bash
for f in *.jpg ; do
  rename -- ".jpg" "-$RANDOM.jpg" $f ;
done
</pre>
  

  
   
   <h3>Rozhraní NetworkManaqeru pro příkazový řádek</h3>

   <p><tt>cnetworkmanager</tt> není již nadále k dispozici — použijte místo toho <tt>nmcli</tt>. Pro informace o migraci, čtěte <tt>http://repo.or.cz/w/cnetworkmanager.git/blob_plain/HEAD:/nmcli-migration.html</tt>.</p>
  

  
   
   <h3>rpm: %_topdir Změněno pro nerootovské uživatele</h3>

   <p>Neprivilegovaní uživatelé již nadále nemohou zapisovat do <tt>/usr/src/packages</tt>. <tt>rpmbuild</tt> teď jako výchozí používá <tt>~/rpmbuild</tt>. Pro změnu tohoto adresáře přidejte do <tt>~/.rpmmacros</tt> řádek podobný následujícímu:</p>
   <pre>%_topdir /nějaký/někde/jinde</pre>
   <p>Abyste použili podadresář <tt>foo</tt> adresáře <tt>$HOME</tt>, přidejte k <tt>~/.rpmmacros</tt>:</p>
   <pre>%_topdir %{getenv:HOME}/foo</pre>
  
 

