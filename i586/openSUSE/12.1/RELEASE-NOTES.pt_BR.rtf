
 <h1>Notas de lançamento do openSUSE 12.1</h1>
 <p>Versão:</p>
 <p>12.1.12 (2012-04-13)</p>

 <p>Copyright © 2012 Novell, Inc.</p>
 <p>São cedidos os direitos de cópia, distribuição e/ou alteração deste documento, segundo os termos da Licença Gratuita de Documentação GNU, Versão 1.2 ou qualquer versão posterior publicada pela Free Software Foundation; sem seções invariantes, textos de capa e contracapa. Uma cópia desta licença está incluída como o arquivo <tt>fdl.txt</tt>.</p>


 

 

 
 

 
 <p>Se você atualizar a partir de uma versão antiga para esta versão do openSUSE, veja as notas de lançamento antigas aqui: <tt>http://en.opensuse.org/openSUSE:Release_Notes</tt></p>

 
 
 <p>Estas notas de lançamento abrangem as seguintes áreas:</p>

 <ul>
  <li>
   <p>Miscellaneous:
    These entries are automatically included from openFATE, the Feature- and
    Requirements
    Management System (<tt>http://features.opensuse.org</tt>).</p>
   <p>For the moment, these snippets are listed unsorted—we are
    working on improvements.</p>
  </li>

 <li>
   <p>Instalação: leia isto se você quer instalar o sistema desde o início.</p>
  </li>

 <li>
   <p>Geral: informações que todos devem ler.</p>
  </li>

  <li><p>Atualização do sistema: problemas relacionados ao processo se você realizar uma atualização do sistema a partir de uma versão anterior do openSUSE.</p></li>

  <li><p>Técnico: esta seção contém vários aperfeiçoamentos e alterações técnicas para o usuário avançado.</p></li>
 </ul>


  <h2>Diversos</h2>
    <h3>YaST AppArmor Configuration Module</h3><p>FATE Categories for <tt>https://features.opensuse.org/305278</tt>: AppArmor, YaST.</p>

<p>Find the AppArmor Configuration module now in the "Security and Users" section of the YaST Control Center.</p>


  




 
  <h2>Instalação</h2>
  
  
   <h3>For Detailed Installation Information</h3>

  <p>For detailed installation information, see the 
  "openSUSE
  Documentation"
 referenced below.</p>
  

 

 
  <h2>Geral</h2>

  
  
   <h3>Documentação do openSUSE</h3>

   <ul>
    <li><p>
     In Start-Up, find step-by-step installation instructions, as well as   
    introductions to the KDE and Gnome desktops and to the LibreOffice
      suite. Also covered are basic administration topics such as deployment
      and software management and an introduction to the bash shell.
    </p></li>
    <li>
     <p>
      Reference covers  administration, and system configuration in detail and
      explains how to set up various network services.</p>
    </li>
    <li><p>O Guia de Segurança introduz conceitos básicos de segurança do sistema, cobrindo ambos os aspectos de segurança local e de rede.</p></li>
    <li><p>O Guia de Análise e Ajuste do Sistema ajuda com problemas de detecção, resolução e otimização.</p>
    </li>
    <li><p>O Guia de Virtualização com o KVM oferece uma introdução sobre a configuração e gerenciamento de virtualização com as ferramentas KVM, libvirt e QEMU.</p>
    </li>
   </ul>
  

  
   <h3>GNOME 3</h3>
   
   <p>
    GNOME 3 offers a new design for the desktop that is different from
    GNOME 2. As a result, and in order to have users benefit from the
    changes, the look and feel of your GNOME 2 desktop will not be
    migrated automatically. The System Settings can
    be used to customize GNOME 3, and an advanced tool
    (<tt>gnome-tweak-tool</tt>) is provided for more detailed
    customization.
   </p>
   <p>
    The standard mode of GNOME 3 requires support for 3D acceleration in
    the graphic drivers. When 3D acceleration is not available, GNOME 3
    then uses the fallback mode. If it turns out that GNOME 3 detects
    availability of 3D acceleration, but the standard mode is unusable,
    then you likely hit a bug in the graphic drivers. You can force the
    fallback mode with the "<tt>gnome.fallback=1</tt>"
    argument on the boot line in grub.
   </p>
   <p>
    If you use the fallback mode, you can customize
    the panels by pressing Alt when right-clicking on a panel.
   </p>
   <p>
    For a brief description of many GNOME Shell features, such as
    keybindings, drag and drop capabilities, and special utilities, see
    <tt>https://live.gnome.org/GnomeShell/CheatSheet</tt>.
   </p>
  

  
   <h3>PulseAudio Sound System</h3>
   
   <p>
The PulseAudio sound system is now system-wide integrated and enabled by
default for new installation.  If you disabled it on a previous release, and
want to enable it now, check the <tt>PULSEAUDIO_ENABLE</tt> variable
in <tt>/etc/sysconfig/sound</tt>:</p>

   <p>
Set <tt>PULSEAUDIO_ENABLE</tt> to "<tt>yes</tt>" to
forcefully enable PA everywhere.  Setting <tt>PULSEAUDIO_ENABLE</tt>
to "<tt>no</tt>" will disable PulseAudio completely, and setting it
to "custom" means to keep a custom configuration untouched.</p>
  


  
   
   <h3>Btrfs</h3>
   <p>
Btrfs is the next generation filesystem for Linux. As a preview of the new
technology, you can create btrfs partitions or setup your whole system with
btrfs.
   </p>

   <p>
Note: The btrfs filesystem is in active development, and check and
repair functionality ("scrub") has been added just recently. "Scrub" is
aimed to verify data and metadata assuming the tree structures are fine;
it can (and should) be run periodically on a mounted filesystem: it runs
as a background process during normal operation.
   </p>

   <p>
Thus we advice to carefully consider, which data to put on the filesystem, and
follow the usual suggestions for redundancy and backup. For more
information, see <tt>http://btrfs.wiki.kernel.org</tt>.
   </p>

   <p>
Btrfs contains many interesting new features, including the ability to
take snapshots of your filesystem. Snapshot and rollback is supported by
<tt>snapper</tt>, and already integrated into openSUSE package
and system management tools such as <tt>zypper</tt> and YaST.
   </p>
  

  
   
   <h3>Windows Domain Logon with KDM</h3>

   <p>The SUSE KDM theme does not allow Windows Domain logons.</p>

   <p>To work around this issue, set DISPLAYMANAGER_KDM_THEME to an
   empty string in <tt>/etc/sysconfig/displaymanager</tt> to
   use the default KDM theme:</p>

   <pre>DISPLAYMANAGER_KDM_THEME=""</pre>
  

  
   <h3>Oracle Java Externally Available </h3>
   <p>
The java-1_6_0-sun package is not anymore part of openSUSE due to a license
change. We ship the OpenJDK build as a replacement.
openSUSE users who prefer to use the Oracle JDK binary version over the
openSUSE OpenJDK build, can download the Oracle version from <tt>http://oracle.com/java</tt>.</p>
  

  
   
   <h3>Removing 32-Bit XEN Hypervisor</h3>

   <p>
    The 32-Bit XEN Hypervisor is no longer available. Use the 64-bit
    XEN Hypervisor instead for 32-bit and 64-bit virtual guests.
   </p>
  

  
  
  
   <h3>Formatting Large Disk Partitions on Windows 8 Server</h3>
   <p>
Installing a guest hosted on Windows 8 Server may fail when a large
virtual disk image (larger than 50 GB) in <tt>.vhdx</tt>
format is assigned to the guest. To workaround this issue use either
virtual disk images with a fixed size, or create the dynamically sized
disk image using Powershell.
   </p>

   <dl>
    
     <dt>Technical Background about the Issue</dt>
     <dd>
      <p>
The <tt>.vhd</tt> and <tt>.vhdx</tt> images are
sparse files.  When a dynamic <tt>.vhdx</tt> is created with a
maximum size of 127 GB, the initial size is about 256 KB.  Because the
default block size for <tt>.vhdx</tt> files is 32 MB, writing
one 512 byte sector will result in a 32 MB section of the sparse file
being allocated.  When <tt>ext3</tt> is allocating the MBR,
the super block, the backup super blocks, inodes, directories, etc.,
space is being allocated in the sparse file.  Because of
<tt>ext3</tt>'s suboptimal IO, how the data structures are
laid out on disk, and the default block size, a large partition of the
<tt>.vhdx</tt> file is allocated just by formatting.  The
workaround is to create a <tt>.vhdx</tt> file with a 1 MB block
size rather than the default 32 MB.
      </p>
      <p>
Changing the block size in the UI is not implemented. It can only be
changed when the VHDx file is created through Powershell.  To create a
VHD with a modified block size, use this Powershell script (all in one
line):
      </p>

<pre>New-VHD -Path C:\MyVHDs\test.vhdx -SizeBytes (127GB)
  -Dynamic -BlockSizeBytes (1MB) -VHDFormat vhdx</pre>
     </dd>
    
   </dl>
  

  
   
   <h3>Configuring Postfix</h3>

   <p>
    There is no <tt>SuSEconfig</tt> postfix module any more.
    Thus <tt>SuSEconfig</tt> no longer writes the postfix
    configuration files, if you set sysconfig variables in
    <tt>/etc/sysconfig/postfix</tt> or
    <tt>/etc/sysconfig/mail</tt>.
   </p>

   <p>
    After modifying sysconfig variables you must manually run
    <tt>/usr/sbin/SuSEconfig.postfix</tt> as
    <tt>root</tt>.
   </p>
  

 

 
  <h2>Atualização do sistema</h2>

  
   
   <h3>Mounting Encrypted Partitions with dm-crypt</h3>

   <p>
On ancient SUSE systems, <tt>/etc/cryptotab</tt> was used
for setting up devices with the now deprecated cryptoloop
technology. 12.1 only supports <tt>/etc/crypttab</tt>
(without 'o'!), which uses dm-crypt. Users who still have a
<tt>cryptotab</tt> from the old days should run
<tt>convert_cryptotab</tt>, which prints instructions about
what to put in <tt>crypttab</tt> and
<tt>fstab</tt> instead.
   </p>
  

  
   
   <h3>Mounting Encrypted Partitions Using systemd</h3>
   <p>
If encrypted partitions are not automatically mounted when using
systemd, the <tt>noauto</tt> flag in
<tt>/etc/fstab</tt> for these partitions could be the
cause. Replacing this flag with <tt>nofail</tt> will fix
it. For instance, change the following line:</p>

<pre>/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,noauto 0 2</pre>
<p>para</p>
<pre>/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,nofail 0 2</pre>
  
 


 
  <h2>Técnico</h2>
  
  
   <h3>Inicializando a placa de vídeo com KMS (Kernel Mode Setting)</h3>
   
   <p>Com o openSUSE 11.3 nós mudamos para o KMS (Kernel Mode Setting) para as placas de vídeo Intel, ATI e NVIDIA, que agora é nosso padrão. Se você encontrou problemas com o suporte ao driver KMS (intel, radeon, nouveau), desabilite o KMS adicionando <tt>nomodeset</tt> à linha de comando de inicialização do kernel. Para definir isto permanentemente, adicione isto à linha de comando do kernel em <tt>/boot/grub/menu.lst</tt>. Esta opção faz com que o módulo do kernel apropriado (intel, radeon, nouveau) seja carregado com <tt>modeset=0</tt> no <tt>initrd</tt>, isto é, com o KMS desabilitado.</p>

   <p>Em casos raros, ao carregar o módulo DRM a partir do <tt>initrd</tt> é um problema geral e não relacionado ao KMS, é ainda possível desabilitar o carregamento do módulo DRM no <tt>initrd</tt> completamente. Para isto, defina a variável do sysconfig <tt>NO_KMS_IN_INITRD</tt> para <tt>yes</tt> através do YaST, que irá recriar o <tt>initrd</tt>. Reinicie a máquina.</p>

   <p>Na Intel sem o KMS o Xserver usa o driver <tt>fbdev</tt> (o driver <tt>intel</tt> somente suporta KMS); alternativamente, para GPUs antigas da Intel o driver "intellegacy" (pacote <tt>xorg-x11-driver-video-intel-legacy</tt>) está disponível, que ainda suporta o UMS (User Mode Setting). Para usá-lo, edite o arquivo <tt>/etc/X11/xorg.conf.d/50-device.conf</tt> e altere a entrada do driver para <tt>intellegacy</tt>.</p>

   <p>Na ATI para as GPUs atuais, ele usa <tt>radeonhd</tt>. Na NVIDIA sem KMS o driver <tt>nv</tt> é usado (o driver <tt>nouveau</tt> somente suporta KMS). Note que, GPUs novas da ATI e da NVIDIA estão usando o <tt>fbdev</tt> se você especificar o parâmetro de inicialização do kernel <tt>nomodeset</tt>.</p>
  

  
   
   <h3>Radeon HDMI Sound Output Being Disabled</h3>

   <p>
    Due to problems on some hardware HDMI sound output has been disabled
    by default on the radeon driver, which is the default driver for
    AMD/ATI graphics cards.
   </p>
   <p>
    It can be re-enabled by adding <tt>radeon.audio=1</tt> as
    a kernel parameter.  In YaST, go to System -&gt; Boot Loader, then
    click Edit on the default entry, and add the following to the end of
    'Optional Kernel Command Line Parameter':
   </p>

   <pre>radeon.audio=1</pre>

   <p>Then reboot to apply the change.</p>
   <p>
    Alternatively, users can install the proprietary driver from AMD.
    For more information, see <tt>http://en.opensuse.org/SDB:ATI_drivers</tt>.
   </p>
  

  
   
   <h3>Booting with systemd or sysvinit</h3>

   <p>By default, openSUSE now boots using
   <tt>systemd</tt>.  In case of trouble, you can switch back
   to the old way using <tt>sysvinit</tt> by pressing the F5
   key on the boot.</p>

   <p>If you want to switch to <tt>sysvinit</tt>
   permanently, install the <tt>sysvinit-init</tt>
   package.  To switch back to <tt>systemd</tt>, reinstall the
   <tt>systemd-sysvinit</tt> package.</p>
  

  
   
   <h3>systemd: Supplying Service Start-up Parameters</h3>
   <p>
    <tt>systemctl</tt> only supports "standard" parameters
    (see <tt>http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities</tt>).
   </p>
   <p>
    You can bypass this new behavior by calling the start-up script
    directly, for example:
   </p>
   <pre>cd /etc/init.d
./apache2 &lt;your_parameters&gt;
</pre>
  

  
   
   <h3>systemd: System Shutdown</h3>

   <p>
    To halt and poweroff the system when using
    <tt>systemd</tt>, issue <tt>halt -p</tt> or
    <tt>shutdown -h now</tt> on the command-line or use the
    shutdown button provided by your desktop environment.
   </p>

   <p>Note: A plain <tt>halt</tt> will not shutdown the
   system properly.</p>
  

  
   
   <h3>systemd: Making Use of tmpfs: /run, /var/run, /media, etc.</h3>

   <p>
    systemd mounts several directories that are meant to contain
    volatile data only, as tmpfs filesystems: <tt>/run</tt>,
    <tt>/var/run</tt>, <tt>/var/lock</tt>, and
    <tt>/media</tt> are those directories.  For background
    information, see <tt>http://lwn.net/Articles/436012/</tt>.
   </p>

   <p>
    Note: Do not store files that are meant to survive a reboot, in
    <tt>/run</tt>, <tt>/var/run</tt>, etc.
   </p>
  

  
   
   <h3>systemd: Cleaning Directories (/tmp and /var/tmp)</h3>

   <p>
systemd maintains directories as specified in the
<tt>tmpfiles.d</tt> directories and in
<tt>/lib/systemd/system/systemd-tmpfiles-clean.timer</tt>.  For
more information, see the <tt>tmpfiles.d</tt> manpage.
   </p>

   <p>
By default, systemd cleans <tt>tmp</tt> directories daily as
configured in <tt>/usr/lib/tmpfiles.d/tmp.conf</tt>:
   </p>

<pre>d /tmp 1777 root root 10d
d /var/tmp 1777 root root 30d
</pre>

    <p>
Note: systemd does not honor sysconfig variables in
<tt>/etc/sysconfig/cron</tt> such as
<tt>TMP_DIRS_TO_CLEAR</tt>.
    </p>
  

  
   
   <h3>CUPS 1.5</h3>
   <p>
    CUPS 1.5 comes with backward incompatible changes:
   </p>
   <ul>
    <li>
     <p>
      CUPS no longer supports the <tt>~/.cupsrc</tt> or
      <tt>~/.lpoptions</tt> configuration files from CUPS
      1.1. Instead use <tt>~/.cups/client.conf</tt> and
      <tt>~/.cups/lpoptions</tt> that were introduced with
      CUPS 1.2.
     </p>
    </li>
    <li>
     <p>
      The scheduler now requires that filters and backends have group
      write permissions disabled for improved security. If you use third
      party printer drivers from manufacturers with relaxed file
      permissions, adjust the permissions manually.
     </p>
    </li>
   </ul>
  

  
   
   <h3>O comando rename</h3>
   <p>
According to the GNU Coding Standards, the rename command now treats all
strings beginning with a dash as a command line option.  To prevent this,
separate the option from the other arguments with <tt>--</tt> as
follows:
</p>
   <pre>#!/bin/bash
for f in *.jpg ; do
  rename -- ".jpg" "-$RANDOM.jpg" $f ;
done
</pre>
  

  
   
   <h3>NetworkManager Command Line Interface</h3>

   <p>
    <tt>cnetworkmanager</tt> is no longer available—use
    <tt>nmcli</tt> instead.  For migration information, see
    <tt>http://repo.or.cz/w/cnetworkmanager.git/blob_plain/HEAD:/nmcli-migration.html</tt>.
   </p>
  

  
   
   <h3>rpm: %_topdir Changed for Non-root Users</h3>

   <p>
    Unprivileged users can no longer write to
    <tt>/usr/src/packages</tt>.
    <tt>rpmbuild</tt> now uses
    <tt>~/rpmbuild</tt> by default.  To change the directory
    add a line as follows to <tt>~/.rpmmacros</tt>:
   </p>
   <pre>%_topdir /some/where/else</pre>
   <p>
    To use the subdirectory <tt>foo</tt> of
    <tt>$HOME</tt> add to <tt>~/.rpmmacros</tt>:
   </p>
   <pre>%_topdir %{getenv:HOME}/foo</pre>
  
 

