<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>openSUSE 12.1 Release
  Notes</title>
</head>
<body>
 <h1>openSUSE 12.1 Release
  Notes</h1>
 <p>Version:</p>
 <p>12.1.12 (2012-04-13)</p>

 <p>Copyright © 2012 Novell, Inc.</p>
 <p>
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.2
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included as the
  <tt>fdl.txt</tt> file.
</p>


 

 

 
 

 
 <p>
 If you upgrade from an older version to this openSUSE release, see
 previous release notes listed here:
 <a href="http://en.opensuse.org/openSUSE:Release_Notes">http://en.opensuse.org/openSUSE:Release_Notes</a>
 </p>

 
 
 <p>Aceste informații despre produs acoperă următoarele aspecte:</p>
<div>
<dl>
<dt>Miscellaneous</dt>
<dd><ol><li><a href="#01">YaST AppArmor Configuration Module</a></li></ol></dd>
<dt>Instalare</dt>
<dd><ol><li><a href="#02">For Detailed Installation Information</a></li></ol></dd>
<dt>Generalități</dt>
<dd><ol>
<li><a href="#03">Documentația openSUSE</a></li>
<li><a href="#04">GNOME 3</a></li>
<li><a href="#05">PulseAudio Sound System</a></li>
<li><a href="#06">Btrfs</a></li>
<li><a href="#07">Windows Domain Logon with KDM</a></li>
<li><a href="#08">Oracle Java Externally Available </a></li>
<li><a href="#09">Removing 32-Bit XEN Hypervisor</a></li>
<li><a href="#10">Formatting Large Disk Partitions on Windows 8 Server</a></li>
<li><a href="#11">Configuring Postfix</a></li>
</ol></dd>
<dt>Actualizare sistem</dt>
<dd><ol>
<li><a href="#12">Mounting Encrypted Partitions with dm-crypt</a></li>
<li><a href="#13">Mounting Encrypted Partitions Using systemd</a></li>
</ol></dd>
<dt>Detalii tehnice</dt>
<dd><ol>
<li><a href="#14">Inițializarea graficii cu KMS (Kernel Mode Setting)</a></li>
<li><a href="#15">Radeon HDMI Sound Output Being Disabled</a></li>
<li><a href="#16">Booting with systemd or sysvinit</a></li>
<li><a href="#17">systemd: Supplying Service Start-up Parameters</a></li>
<li><a href="#18">systemd: System Shutdown</a></li>
<li><a href="#19">systemd: Making Use of tmpfs: /run, /var/run, /media, etc.</a></li>
<li><a href="#20">systemd: Cleaning Directories (/tmp and /var/tmp)</a></li>
<li><a href="#21">CUPS 1.5</a></li>
<li><a href="#22">The rename Command</a></li>
<li><a href="#23">NetworkManager Command Line Interface</a></li>
<li><a href="#24">rpm: %_topdir Changed for Non-root Users</a></li>
</ol></dd>
</dl>
<hr>
</div>

 <ul>
  <li>
   <p>Miscellaneous:
    These entries are automatically included from openFATE, the Feature- and
    Requirements
    Management System (<a href="http://features.opensuse.org">http://features.opensuse.org</a>).</p>
   <p>For the moment, these snippets are listed unsorted—we are
    working on improvements.</p>
  </li>

 <li>
   <p>Instalare: citiți asta dacă doriți să instalați sistemul de la zero.</p>
  </li>

 <li>
   <p>Generalități: Informații pe care toată lumea ar trebui să le citească.</p>
  </li>

  <li><p>Actualizare sistem: Problemele legate de proces dacă inițiați o actualizare de la versiunea anterioară către această versiune openSUSE.</p></li>

  <li><p>Detalii tehnice: Această secțiune conține anumite detalii tehnice și îmbunătațiri pentru utilizatorul experimentat.</p></li>
 </ul>


  <div>
<h2>Miscellaneous</h2>
    <div>
<h3><a name="01">YaST AppArmor Configuration Module</a></h3>
<p>FATE Categories for <a href="https://features.opensuse.org/305278">https://features.opensuse.org/305278</a>: AppArmor, YaST.</p>

<p>Find the AppArmor Configuration module now in the "Security and Users" section of the YaST Control Center.</p>

</div>
  </div>




 <div>
  <h2>Instalare</h2>
  
  <div>
   <h3><a name="02">For Detailed Installation Information</a></h3>

  <p>For detailed installation information, see the 
  "openSUSE
  Documentation"
 referenced below.</p>
  </div>

 </div>

 <div>
  <h2>Generalități</h2>

  
  <div>
   <h3><a name="03">Documentația openSUSE</a></h3>

   <ul>
    <li><p>
     In Start-Up, find step-by-step installation instructions, as well as   
    introductions to the KDE and Gnome desktops and to the LibreOffice
      suite. Also covered are basic administration topics such as deployment
      and software management and an introduction to the bash shell.
    </p></li>
    <li>
     <p>
      Reference covers  administration, and system configuration in detail and
      explains how to set up various network services.</p>
    </li>
    <li><p>Ghidul de securitate introduce câteva concepte de bază privind securitatea sistemului, acoperind aspecte privind securitatea locală și cea a rețelei.</p></li>
    <li>
<p>
     The System Analysis and Tuning Guide helps with problem detection, 
     resolution and optimization.</p>
    </li>
    <li>
<p>Virtualizarea cu KVM oferă o introducere în setarea și administrarea virtualizării cu KVM, libvirt și unelte QEMU.</p>
    </li>
   </ul>
  </div>

  <div>
   <h3><a name="04">GNOME 3</a></h3>
   
   <p>
    GNOME 3 offers a new design for the desktop that is different from
    GNOME 2. As a result, and in order to have users benefit from the
    changes, the look and feel of your GNOME 2 desktop will not be
    migrated automatically. The System Settings can
    be used to customize GNOME 3, and an advanced tool
    (<tt>gnome-tweak-tool</tt>) is provided for more detailed
    customization.
   </p>
   <p>
    The standard mode of GNOME 3 requires support for 3D acceleration in
    the graphic drivers. When 3D acceleration is not available, GNOME 3
    then uses the fallback mode. If it turns out that GNOME 3 detects
    availability of 3D acceleration, but the standard mode is unusable,
    then you likely hit a bug in the graphic drivers. You can force the
    fallback mode with the "<tt>gnome.fallback=1</tt>"
    argument on the boot line in grub.
   </p>
   <p>
    If you use the fallback mode, you can customize
    the panels by pressing Alt when right-clicking on a panel.
   </p>
   <p>
    For a brief description of many GNOME Shell features, such as
    keybindings, drag and drop capabilities, and special utilities, see
    <a href="https://live.gnome.org/GnomeShell/CheatSheet">https://live.gnome.org/GnomeShell/CheatSheet</a>.
   </p>
  </div>

  <div>
   <h3><a name="05">PulseAudio Sound System</a></h3>
   
   <p>
The PulseAudio sound system is now system-wide integrated and enabled by
default for new installation.  If you disabled it on a previous release, and
want to enable it now, check the <tt>PULSEAUDIO_ENABLE</tt> variable
in <tt>/etc/sysconfig/sound</tt>:</p>

   <p>
Set <tt>PULSEAUDIO_ENABLE</tt> to "<tt>yes</tt>" to
forcefully enable PA everywhere.  Setting <tt>PULSEAUDIO_ENABLE</tt>
to "<tt>no</tt>" will disable PulseAudio completely, and setting it
to "custom" means to keep a custom configuration untouched.</p>
  </div>


  <div>
   
   <h3><a name="06">Btrfs</a></h3>
   <p>
Btrfs is the next generation filesystem for Linux. As a preview of the new
technology, you can create btrfs partitions or setup your whole system with
btrfs.
   </p>

   <p>
Note: The btrfs filesystem is in active development, and check and
repair functionality ("scrub") has been added just recently. "Scrub" is
aimed to verify data and metadata assuming the tree structures are fine;
it can (and should) be run periodically on a mounted filesystem: it runs
as a background process during normal operation.
   </p>

   <p>
Thus we advice to carefully consider, which data to put on the filesystem, and
follow the usual suggestions for redundancy and backup. For more
information, see <a href="http://btrfs.wiki.kernel.org">http://btrfs.wiki.kernel.org</a>.
   </p>

   <p>
Btrfs contains many interesting new features, including the ability to
take snapshots of your filesystem. Snapshot and rollback is supported by
<tt>snapper</tt>, and already integrated into openSUSE package
and system management tools such as <tt>zypper</tt> and YaST.
   </p>
  </div>

  <div>
   
   <h3><a name="07">Windows Domain Logon with KDM</a></h3>

   <p>The SUSE KDM theme does not allow Windows Domain logons.</p>

   <p>To work around this issue, set DISPLAYMANAGER_KDM_THEME to an
   empty string in <tt>/etc/sysconfig/displaymanager</tt> to
   use the default KDM theme:</p>

   <pre>DISPLAYMANAGER_KDM_THEME=""</pre>
  </div>

  <div>
   <h3><a name="08">Oracle Java Externally Available </a></h3>
   <p>
The java-1_6_0-sun package is not anymore part of openSUSE due to a license
change. We ship the OpenJDK build as a replacement.
openSUSE users who prefer to use the Oracle JDK binary version over the
openSUSE OpenJDK build, can download the Oracle version from <a href="http://oracle.com/java">http://oracle.com/java</a>.</p>
  </div>

  <div>
   
   <h3><a name="09">Removing 32-Bit XEN Hypervisor</a></h3>

   <p>
    The 32-Bit XEN Hypervisor is no longer available. Use the 64-bit
    XEN Hypervisor instead for 32-bit and 64-bit virtual guests.
   </p>
  </div>

  
  
  <div>
   <h3><a name="10">Formatting Large Disk Partitions on Windows 8 Server</a></h3>
   <p>
Installing a guest hosted on Windows 8 Server may fail when a large
virtual disk image (larger than 50 GB) in <tt>.vhdx</tt>
format is assigned to the guest. To workaround this issue use either
virtual disk images with a fixed size, or create the dynamically sized
disk image using Powershell.
   </p>

   <dl>
    
     <dt>Technical Background about the Issue</dt>
     <dd>
      <p>
The <tt>.vhd</tt> and <tt>.vhdx</tt> images are
sparse files.  When a dynamic <tt>.vhdx</tt> is created with a
maximum size of 127 GB, the initial size is about 256 KB.  Because the
default block size for <tt>.vhdx</tt> files is 32 MB, writing
one 512 byte sector will result in a 32 MB section of the sparse file
being allocated.  When <tt>ext3</tt> is allocating the MBR,
the super block, the backup super blocks, inodes, directories, etc.,
space is being allocated in the sparse file.  Because of
<tt>ext3</tt>'s suboptimal IO, how the data structures are
laid out on disk, and the default block size, a large partition of the
<tt>.vhdx</tt> file is allocated just by formatting.  The
workaround is to create a <tt>.vhdx</tt> file with a 1 MB block
size rather than the default 32 MB.
      </p>
      <p>
Changing the block size in the UI is not implemented. It can only be
changed when the VHDx file is created through Powershell.  To create a
VHD with a modified block size, use this Powershell script (all in one
line):
      </p>

<pre>New-VHD -Path C:\MyVHDs\test.vhdx -SizeBytes (127GB)
  -Dynamic -BlockSizeBytes (1MB) -VHDFormat vhdx</pre>
     </dd>
    
   </dl>
  </div>

  <div>
   
   <h3><a name="11">Configuring Postfix</a></h3>

   <p>
    There is no <tt>SuSEconfig</tt> postfix module any more.
    Thus <tt>SuSEconfig</tt> no longer writes the postfix
    configuration files, if you set sysconfig variables in
    <tt>/etc/sysconfig/postfix</tt> or
    <tt>/etc/sysconfig/mail</tt>.
   </p>

   <p>
    After modifying sysconfig variables you must manually run
    <tt>/usr/sbin/SuSEconfig.postfix</tt> as
    <tt>root</tt>.
   </p>
  </div>

 </div>

 <div>
  <h2>Actualizare sistem</h2>

  <div>
   
   <h3><a name="12">Mounting Encrypted Partitions with dm-crypt</a></h3>

   <p>
On ancient SUSE systems, <tt>/etc/cryptotab</tt> was used
for setting up devices with the now deprecated cryptoloop
technology. 12.1 only supports <tt>/etc/crypttab</tt>
(without 'o'!), which uses dm-crypt. Users who still have a
<tt>cryptotab</tt> from the old days should run
<tt>convert_cryptotab</tt>, which prints instructions about
what to put in <tt>crypttab</tt> and
<tt>fstab</tt> instead.
   </p>
  </div>

  <div>
   
   <h3><a name="13">Mounting Encrypted Partitions Using systemd</a></h3>
   <p>
If encrypted partitions are not automatically mounted when using
systemd, the <tt>noauto</tt> flag in
<tt>/etc/fstab</tt> for these partitions could be the
cause. Replacing this flag with <tt>nofail</tt> will fix
it. For instance, change the following line:</p>

<pre>/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,noauto 0 2</pre>
<p>to</p>
<pre>/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,nofail 0 2</pre>
  </div>
 </div>


 <div>
  <h2>Detalii tehnice</h2>
  
  <div>
   <h3><a name="14">Inițializarea graficii cu KMS (Kernel Mode Setting)</a></h3>
   
   <p>
With openSUSE 11.3 we switched to KMS (Kernel Mode Setting) for Intel, ATI
and NVIDIA graphics, which now is our default. If you encounter problems with
the KMS driver support (intel, radeon, nouveau), disable KMS by adding
<tt>nomodeset</tt> to the kernel boot command line. To set this
permanently, add it to the kernel command line in
<tt>/boot/grub/menu.lst</tt>.  This option makes sure the
appropriate kernel module (intel, radeon, nouveau) is loaded with
<tt>modeset=0</tt> in <tt>initrd</tt>, i.e. KMS is
disabled.</p>

   <p>În cazurile rare când se încarcă modulul DRM din <tt>initrd</tt> este o problemă generală și care nu are legătură cu KMS, este chiar posibil să dezactivați complet încărcarea modulului DRM în <tt>initrd</tt>. Pentru această setare <tt>NO_KMS_IN_INITRD</tt> sysconfig variază către <tt>yes</tt> via YAST, care poate apoi recreea <tt>initrd</tt>. Restartează calculatorul.</p>

   <p>
On Intel without KMS the Xserver falls back to the
<tt>fbdev</tt> driver (the <tt>intel</tt> driver
only supports KMS); alternatively, for legacy GPUs from Intel the
"intellegacy" driver
(<tt>xorg-x11-driver-video-intel-legacy</tt> package) is
available, which still supports UMS (User Mode Setting).  To use it,
edit <tt>/etc/X11/xorg.conf.d/50-device.conf</tt> and change
the driver entry to <tt>intellegacy</tt>.</p>

   <p>
On ATI for current GPUs it falls back to <tt>radeonhd</tt>. On
NVIDIA without KMS the <tt>nv</tt> driver is used (the
<tt>nouveau</tt> driver supports only KMS).  Note, newer ATI
and NVIDIA GPUs are falling back to <tt>fbdev</tt>, if you
specify the <tt>nomodeset</tt> kernel boot parameter.</p>
  </div>

  <div>
   
   <h3><a name="15">Radeon HDMI Sound Output Being Disabled</a></h3>

   <p>
    Due to problems on some hardware HDMI sound output has been disabled
    by default on the radeon driver, which is the default driver for
    AMD/ATI graphics cards.
   </p>
   <p>
    It can be re-enabled by adding <tt>radeon.audio=1</tt> as
    a kernel parameter.  In YaST, go to System -&gt; Boot Loader, then
    click Edit on the default entry, and add the following to the end of
    'Optional Kernel Command Line Parameter':
   </p>

   <pre>radeon.audio=1</pre>

   <p>Then reboot to apply the change.</p>
   <p>
    Alternatively, users can install the proprietary driver from AMD.
    For more information, see <a href="http://en.opensuse.org/SDB:ATI_drivers">http://en.opensuse.org/SDB:ATI_drivers</a>.
   </p>
  </div>

  <div>
   
   <h3><a name="16">Booting with systemd or sysvinit</a></h3>

   <p>By default, openSUSE now boots using
   <tt>systemd</tt>.  In case of trouble, you can switch back
   to the old way using <tt>sysvinit</tt> by pressing the F5
   key on the boot.</p>

   <p>If you want to switch to <tt>sysvinit</tt>
   permanently, install the <tt>sysvinit-init</tt>
   package.  To switch back to <tt>systemd</tt>, reinstall the
   <tt>systemd-sysvinit</tt> package.</p>
  </div>

  <div>
   
   <h3><a name="17">systemd: Supplying Service Start-up Parameters</a></h3>
   <p>
    <tt>systemctl</tt> only supports "standard" parameters
    (see <a href="http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities">http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities</a>).
   </p>
   <p>
    You can bypass this new behavior by calling the start-up script
    directly, for example:
   </p>
   <pre>cd /etc/init.d
./apache2 &lt;your_parameters&gt;
</pre>
  </div>

  <div>
   
   <h3><a name="18">systemd: System Shutdown</a></h3>

   <p>
    To halt and poweroff the system when using
    <tt>systemd</tt>, issue <tt>halt -p</tt> or
    <tt>shutdown -h now</tt> on the command-line or use the
    shutdown button provided by your desktop environment.
   </p>

   <p>Note: A plain <tt>halt</tt> will not shutdown the
   system properly.</p>
  </div>

  <div>
   
   <h3><a name="19">systemd: Making Use of tmpfs: /run, /var/run, /media, etc.</a></h3>

   <p>
    systemd mounts several directories that are meant to contain
    volatile data only, as tmpfs filesystems: <tt>/run</tt>,
    <tt>/var/run</tt>, <tt>/var/lock</tt>, and
    <tt>/media</tt> are those directories.  For background
    information, see <a href="http://lwn.net/Articles/436012/">http://lwn.net/Articles/436012/</a>.
   </p>

   <p>
    Note: Do not store files that are meant to survive a reboot, in
    <tt>/run</tt>, <tt>/var/run</tt>, etc.
   </p>
  </div>

  <div>
   
   <h3><a name="20">systemd: Cleaning Directories (/tmp and /var/tmp)</a></h3>

   <p>
systemd maintains directories as specified in the
<tt>tmpfiles.d</tt> directories and in
<tt>/lib/systemd/system/systemd-tmpfiles-clean.timer</tt>.  For
more information, see the <tt>tmpfiles.d</tt> manpage.
   </p>

   <p>
By default, systemd cleans <tt>tmp</tt> directories daily as
configured in <tt>/usr/lib/tmpfiles.d/tmp.conf</tt>:
   </p>

<pre>d /tmp 1777 root root 10d
d /var/tmp 1777 root root 30d
</pre>

    <p>
Note: systemd does not honor sysconfig variables in
<tt>/etc/sysconfig/cron</tt> such as
<tt>TMP_DIRS_TO_CLEAR</tt>.
    </p>
  </div>

  <div>
   
   <h3><a name="21">CUPS 1.5</a></h3>
   <p>
    CUPS 1.5 comes with backward incompatible changes:
   </p>
   <ul>
    <li>
     <p>
      CUPS no longer supports the <tt>~/.cupsrc</tt> or
      <tt>~/.lpoptions</tt> configuration files from CUPS
      1.1. Instead use <tt>~/.cups/client.conf</tt> and
      <tt>~/.cups/lpoptions</tt> that were introduced with
      CUPS 1.2.
     </p>
    </li>
    <li>
     <p>
      The scheduler now requires that filters and backends have group
      write permissions disabled for improved security. If you use third
      party printer drivers from manufacturers with relaxed file
      permissions, adjust the permissions manually.
     </p>
    </li>
   </ul>
  </div>

  <div>
   
   <h3><a name="22">The rename Command</a></h3>
   <p>
According to the GNU Coding Standards, the rename command now treats all
strings beginning with a dash as a command line option.  To prevent this,
separate the option from the other arguments with <tt>--</tt> as
follows:
</p>
   <pre>#!/bin/bash
for f in *.jpg ; do
  rename -- ".jpg" "-$RANDOM.jpg" $f ;
done
</pre>
  </div>

  <div>
   
   <h3><a name="23">NetworkManager Command Line Interface</a></h3>

   <p>
    <tt>cnetworkmanager</tt> is no longer available—use
    <tt>nmcli</tt> instead.  For migration information, see
    <a href="http://repo.or.cz/w/cnetworkmanager.git/blob_plain/HEAD:/nmcli-migration.html">http://repo.or.cz/w/cnetworkmanager.git/blob_plain/HEAD:/nmcli-migration.html</a>.
   </p>
  </div>

  <div>
   
   <h3><a name="24">rpm: %_topdir Changed for Non-root Users</a></h3>

   <p>
    Unprivileged users can no longer write to
    <tt>/usr/src/packages</tt>.
    <tt>rpmbuild</tt> now uses
    <tt>~/rpmbuild</tt> by default.  To change the directory
    add a line as follows to <tt>~/.rpmmacros</tt>:
   </p>
   <pre>%_topdir /some/where/else</pre>
   <p>
    To use the subdirectory <tt>foo</tt> of
    <tt>$HOME</tt> add to <tt>~/.rpmmacros</tt>:
   </p>
   <pre>%_topdir %{getenv:HOME}/foo</pre>
  </div>
 </div>
</body>
</html>
