<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Poznámky k vydání openSUSE 12.2</title><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="cs" class="article"><div class="titlepage"><div><div><h2 class="title"><a name="id237236"></a>Poznámky k vydání <span class="phrase">openSUSE 12.2</span></h2></div></div><hr></div><p>Verze:</p><p>12.2.9 (2012-10-22)</p><p>Copyright © 2012 Novell, Inc.</p><p>Tento text můžete kopírovat, distribuovat a/nebo měnit podle GNU Free Documentation License, verze 1.2 nebo novější, vydané Free Software Foundation. Není povoleno měnit sekce a přidávat text. Kopii licence najdete v souboru <code class="filename">fdl.txt</code>.</p><p>Pokud aktualizujete openSUSE ze starší verze vydání, můžete si poznámky k vydání zobrazit zde: <a class="ulink" href="http://en.opensuse.org/openSUSE:Release_Notes" target="_top">http://en.opensuse.org/openSUSE:Release_Notes</a></p><p>Tyto poznámky jsou děleny do následujících okruhů:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="#misc" title="1. Různé">1 – „Různé“</a>: Tyto záznamy jsou automaticky vkládány z openFATE, systému správy požadavků a funkcí (<a class="ulink" href="http://features.opensuse.org" target="_top">http://features.opensuse.org</a>).</p><p>není k dispozici</p></li><li class="listitem"><p><a class="xref" href="#installation" title="2. Instalace">2 – „Instalace“</a>: Toto si přečtěte, pokud chcete systém nainstalovat "na čisto".</p></li><li class="listitem"><p><a class="xref" href="#general" title="3. Obecné">3 – „Obecné“</a>: Informace určené pro všechny uživatele.</p></li><li class="listitem"><p><a class="xref" href="#upgrade" title="4. Aktualizace systému">4 – „Aktualizace systému“</a>: Problémy spojené s procesem aktualizace pokud přecházíte z dřívějších verzí na tuto verzi openSUSE.</p></li><li class="listitem"><p><a class="xref" href="#technical" title="5. Technické">5 – „Technické“</a>: Sekce pro pokročilejší uživatele věnovaná technickým změnám a rozšířením.</p></li></ul></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="misc"></a>1. Různé</h2></div></div></div><p>není k dispozici</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation"></a>2. Instalace</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id288628"></a>2.1. Pro detailní informace k instalaci</h3></div></div></div><p>Pro detailní informace k instalaci vizte <span class="quote">„<span class="quote">openSUSE Dokumentaci</span>“</span> odkazovanou níže.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="general"></a>3. Obecné</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.115.documentation"></a>3.1. Dokumentace openSUSE</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>V Po spuštění (Start-Up) naleznete instalační instrukce krok za krokem a také úvod do desktopu KDE či Gnome. Taktéž úvod k balíku LibreOffice. Také jsou tam zahrnuty základní administrační témata jako například nasazení a správa softwaru a také úvod do Bash shellu.</p></li><li class="listitem"><p>Odkaz zahrnuje administraci, detailní nastavení systému a také vysvětluje, jak nastavit různé síťové služby.</p></li><li class="listitem"><p>Bezpečnostní příručka přináší základní koncepty zabezpečení systému, pokrývající místní i síťový pohled na bezpečnost.</p></li><li class="listitem"><p>Příručka systémové analýzy a úprav pomáhá s hledáním problému, jeho řešení a optimalizaci.</p></li><li class="listitem"><p>Virtualizace s KVM nabízí úvod k nastavení a správě KVM virtualizace, libvirt a nástrojů QEMU.</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id303746"></a>3.2. Předinstalační test paměti nesprávně označuje dobrou paměť jako vadnou</h3></div></div></div><p>Předinstalační test paměti (<span class="command"><strong>memtest</strong></span>) na médiu openSUSE 12.2 je špatně zkompilovaný. V sedmém testu hlásí chybu na bezvadných modulech RAM. Pokud chcete spustit <span class="command"><strong>memtest</strong></span>, použijte médium openSUSE 12.1.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrade"></a>4. Aktualizace systému</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.zypper-openssh"></a>4.1. Vzdálená aktualizace pomocí "zypper dup"</h3></div></div></div><p>Pokud provádíte aktualizaci z openSUSE 12.1 (nebo starší verze), dojde při povýšení balíčku openssh k přerušení openSSH spojení . Když potřebujete provést aktualizaci "zypper dup" přes SSH připojení, spusťte tento příkaz uvnitř obnovovatelného terminálového multiplexeru (např. "screen" nebo "tmux"), díky čemuž se budete moci jednoduše znovu připojit do stejného sezení, nebo alespoň předejdete ztrátě spojení (např. signálem "nohup").</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.sysv"></a>4.2. sysvinit zavržen</h3></div></div></div><p>Některé komponenty pracovní plochy závisí na službách, které poskytuje pouze systemd. Ačkoli jako nouzový režim openSUSE 12.2 nadále obsahuje základní podporu zavádění systému pomocí sysvinitu, přesto je sysvinit považován za zavržený a pravděpodobně i chybový či v některých ohledech rozbitý. Pokud máte nějaké potíže se systémem zaváděným pomocí sysvinitu, dříve než vyplníte chybové hlášení, použijte systemd.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.cryptoloop"></a>4.3. mount a losetup opouští podporu pro cryptoloop</h3></div></div></div><p><span class="command"><strong>cryptoloop</strong></span> obsahuje známé slabiny a je proto několik let považován za zavržený ve prospěch <span class="command"><strong>dm-crypt</strong></span>u. <span class="command"><strong>mount</strong></span> (např. pomocí <code class="filename">/etc/fstab</code>) a <span class="command"><strong>losetup</strong></span> nyní konečně opustily podporu pro <span class="command"><strong>cryptoloop</strong></span>. To znamená, že staré položky fstabu, které využívají <span class="command"><strong>cryptoloop</strong></span> pro přístup k šifrovaným kontejnerům, nebudou takto fungovat. Nicméně tyto kontejnery budou nadále dostupné pomocí <span class="command"><strong>dm-crypt</strong></span>u (<code class="filename">/etc/crypttab</code>). Pro příklady, jak použít tuto novou metodu, navštivte stránku <a class="ulink" href="http://en.opensuse.org/Encrypted_Filesystems" target="_top">http://en.opensuse.org/Encrypted_Filesystems</a>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="crypto-part-systemd"></a>4.4. Připojování šifrovaných oddílů pomocí systemd</h3></div></div></div><p>Pokud systemd automaticky nepřipojí šifrované oddíly, mohl by být příčinou příznak <code class="literal">noauto</code> v souboru <code class="filename">/etc/fstab</code>. Opravíte to jeho nahrazením za příznak <code class="literal">nofail</code>. Například změňte následující řádek:</p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,noauto 0 2</pre><p>na</p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,nofail 0 2</pre></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="technical"></a>5. Technické</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.114.kms"></a>5.1. Inicializace grafiky s KMS (Kernel Mode Setting)</h3></div></div></div><p>V openSUSE 11.3 jsme přešli na KMS (Kernel Mode Setting) u grafických karet Intel, ATI a NVIDIA, což je nyní výchozí. Pokud narazíte na problémy s podporou ovladače KMS (intel, radeon, nouveau), vypněte KMS přidáním <code class="literal">nomodeset</code> do příkazové řádky pro startování jádra. Abyste to pro GRUB 2 (výchozí zavaděč) nastavili natrvalo, přidejte tento parametr k výchozím volbám jádra <code class="literal">GRUB_CMDLINE_LINUX_DEFAULT</code>, které naleznete v textovém souboru <code class="filename">/etc/default/grub</code>. K provedení změny budete potřebovat oprávnění uživatele root a pro uplatnění musíte spustit terminálový příkaz</p><pre class="screen">sudo /usr/sbin/grub2-mkconfig --output=/boot/grub2/grub.cfg</pre><p>V případě, že používáte původní verzi Grubu, přidejte (jako root) tento parametr do příkazové řádky jádra v souboru <code class="filename">/boot/grub/menu.lst</code>. Tato volba zajišťuje, že odpovídající jaderný modul (intel, radeon, nouveau) je načten s <code class="literal">modeset=0</code> v <code class="filename">initrd</code>, tzn. že KMS je vypnuto.</p><p>Ve vzácných případech je načítání modulu DRM z <code class="filename">initrd</code> obecným problémem nesouvisející s KMS, je dokonce možné v <code class="filename">initrd</code> úplně vypnout podporu modulu DRM. Abyste tak učinili, nastavte pomocí YaSTu proměnnou sysconfig <code class="literal">NO_KMS_IN_INITRD</code> na hodnotu <code class="literal">yes</code>, což poté způsobí znovuvytvoření <code class="filename">initrd</code>. Pak restartujte počítač.</p><p>Na grafikách Intel bez KMS se Xserver vrací zpět k ovladači <code class="literal">fbdev</code> (ovladač <code class="literal">intel</code> podporuje pouze KMS).  Alternativně pro starší Intelovské GPU je k dispozici ovladač "intellegacy" (balíček <code class="systemitem">xorg-x11-driver-video-intel-legacy</code>), který stále podporuje UMS (User Mode Setting = uživatelský mód nastavení). K jeho použití upravte <code class="filename">/etc/X11/xorg.conf.d/50-device.conf</code> a změňte záznam "driver" na <code class="literal">intellegacy</code>.</p><p>Na grafikách ATI se současnými GPU se vrací k <code class="literal">radeonhd</code>. U grafických karet NVIDIA bez KMS je použit ovladač <code class="literal">nv</code> (ovladač <code class="literal">nouveau</code> podporuje pouze KMS). Nutno poznamenat, že novější grafické karty ATI a NVIDIA se vrací k <code class="literal">fbdev</code>, pokud uvedete jako spouštěcí parametr jádra <code class="literal">nomodeset</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-sysvinit"></a>5.2. Zavádění systému zavrženým sysvinitem</h3></div></div></div><p>Jako výchozí nyní se openSUSE spouští pomocí <span class="command"><strong>systemd</strong></span>. V případě potíží se můžete zkusit vrátit k zavrženému <span class="command"><strong>sysvinit</strong></span>u tak, že v zavaděči stisknete klávesu F5. Pro více informací o omezeních při spuštění systému pomocí sysvinitu čtěte <a class="xref" href="#sec.122.sysv" title="4.2. sysvinit zavržen">4.2 – „sysvinit zavržen“</a>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-ctl"></a>5.3. systemd: Dodání spouštěcích parametrů služeb</h3></div></div></div><p><span class="command"><strong>systemctl</strong></span> podporuje pouze "standardní" parametry (čtěte <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities" target="_top">http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities</a>).</p><p>Toto nové chování můžete obejít voláním startovacích skriptů přímo, například:</p><pre class="screen">cd /etc/init.d
./apache2 &lt;vaše_parametry&gt;
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-shutdown"></a>5.4. systemd: Vypnutí systému</h3></div></div></div><p>Když používáte systemd,  k zastavení a vypnutí systému zadejte v příkazovém řádku <span class="command"><strong>halt -p</strong></span> nebo <span class="command"><strong>shutdown -h now</strong></span> a nebo použijte vypínací tlačítko vašeho desktopového prostředí.</p><p>Poznámka: Jednoduché <span class="command"><strong>halt</strong></span> nevypne systém řádně.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpfs"></a>5.5. systemd: Vytváří se použití tmpfs: /run, /var/run, /media, etc.</h3></div></div></div><p>systemd připojuje několik adresářů, které jsou zamýšlené tak, aby obsahovaly pouze dočasná data, jako souborového systémy tmpfs. Jsou to adresáře: <code class="filename">/run</code>, <code class="filename">/var/run</code>, <code class="filename">/var/lock</code> a <code class="filename">/media</code>. Pro informace o pozadí vizte <a class="ulink" href="http://lwn.net/Articles/436012/" target="_top">http://lwn.net/Articles/436012/</a>.</p><p>Poznámka: Neukládejte soubory, které mají přežít restart, do <code class="filename">/run</code>, <code class="filename">/var/run</code>, atd.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpdir"></a>5.6. systemd: Čištění adresářů (/tmp a /var/tmp)</h3></div></div></div><p>systemd udržuje adresáře, jak je uvedeno v <code class="filename">tmpfiles.d</code> adresářích a v <code class="filename">/lib/systemd/system/systemd-tmpfiles-clean.timer</code>. Pro více informací vizte manuálovou stránku <code class="filename">tmpfiles.d</code>.</p><p>Jako výchozí, systemd čistí <code class="filename">tmp</code> adresáře denně, jak je nakonfigurováno v <code class="filename">/usr/lib/tmpfiles.d/tmp.conf</code>:</p><pre class="screen">d /tmp 1777 root root 10d
d /var/tmp 1777 root root 30d
</pre><p>Poznámka: systemd nectí proměnné sysconfigu v <code class="filename">/etc/sysconfig/cron</code> jako je <code class="literal">TMP_DIRS_TO_CLEAR</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.mount-usb"></a>5.7. Automatické připojování USB médií</h3></div></div></div><p>Gnome a Xfce nyní pro automatické připojování USB médií do adresáře <code class="filename">/run/media/$USER</code> používají <code class="literal">udisks2</code>. KDE nadále používá udisks ve verzi 1 a připojuje USB media do adresáře <code class="filename">/media</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.loopback"></a>5.8. Určování diskových oddílů pro zařízení zpětné smyčky</h3></div></div></div><p>S jádrem Linuxu 3.4 přichází dva způsoby jak na zařízeních zpětné smyčky vytvářet diskové oddíly. První je s parametrem <code class="literal">max_part</code> a druhý je pomocí parametru <code class="literal">-P</code> u příkazu <span class="command"><strong>losetup</strong></span>. Oba způsoby se chovají mírně jinak. Zatímco parametr <code class="literal">-P</code> dynamicky alokuje menší čísla pro každé zařízení (včetně jejich přidání nebo odebrání za běhu pomocí <span class="command"><strong>blockdev --rereadpt</strong></span>), použití parametru <code class="literal">max_part</code> způsobí, že každé smyčkové zařízení si alokuje uvedený počet malých čísel pro každé zařízení.</p><p>Takže když použijete <code class="literal">max_part=8</code> a nezměníte <code class="literal">max_loop</code>, které je jako výchozí rovno <code class="literal">8</code>, pak použijete všechna alokovaná menší čísla pro první zařízení.</p><p>Řešením je buď použít <code class="literal">-P</code> nebo <span class="emphasis"><em>také</em></span> použít <code class="literal">max_loop</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id328679"></a>5.9. Informace o časové zóně v <code class="filename">/etc/adjtime</code></h3></div></div></div><p>Třetí řádek souboru <code class="filename">/etc/adjtime</code> nyní obsahuje informaci, zda vaše hodiny BIOSu běží v UTC nebo v místní časové zóně (dříve bylo uloženo ve volbě <code class="literal">HWCLOCK</code> v souboru <code class="filename">/etc/sysconfig/clock</code>).</p><p>Pokud soubor <code class="filename">/etc/adjtime</code> obsahuje  nesprávnou  informaci o posunu (například po opravě data a času příkazem <span class="command"><strong>ntpdate</strong></span> nebo při spuštěném démonu <span class="command"><strong>ntpd</strong></span>), nastavte v souboru <code class="filename">/etc/sysconfig/clock</code> proměnnou <code class="literal">USE_ADJUST</code> na hodnotu "<code class="literal">no</code>".</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id328750"></a>5.10. GNU tar má předvoleno vytváření archivů vyhovujících POSIXu</h3></div></div></div><p>GNU tar má nyní jako výchozí volbu <code class="literal">--format=posix</code> a vytváří archivy vyhovující POSIXu s rozšířenou hlavičkou PAX. Zkontrolujte, zda vaše skripty a aplikace jsou s tímto formátem kompatibilní.</p><p>Původní chování (které je výchozí v upstreamu) může být obnoveno tak, že v prostředí nastavíte:</p><pre class="screen">TAR_OPTIONS='--format=gnu'</pre><p>nebo</p><pre class="screen">TAR_OPTIONS='--pax-option=delete=[ac]time*'</pre></div></div></div></body></html>
