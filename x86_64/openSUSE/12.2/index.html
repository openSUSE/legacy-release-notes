<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>openSUSE 12.2 Release Notes</title><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="en" class="article"><div class="titlepage"><div><div><h2 class="title"><a name="id421040"></a><span class="phrase">openSUSE 12.2</span> Release Notes</h2></div></div><hr></div><p>Version:</p><p>12.2.9 (2012-10-22)</p><p>Copyright © 2012 Novell, Inc.</p><p>Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.2 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A copy of the license is included as the <code class="filename">fdl.txt</code> file.</p><p>If you upgrade from an older version to this openSUSE release, see previous release notes listed here: <a class="ulink" href="http://en.opensuse.org/openSUSE:Release_Notes" target="_top">http://en.opensuse.org/openSUSE:Release_Notes</a></p><p>These release notes cover the following areas:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="#misc" title="1. Miscellaneous">Section 1, “Miscellaneous”</a>: These entries are automatically included from openFATE, the Feature- and Requirements Management System (<a class="ulink" href="http://features.opensuse.org" target="_top">http://features.opensuse.org</a>).</p><p>N/A</p></li><li class="listitem"><p><a class="xref" href="#installation" title="2. Installation">Section 2, “Installation”</a>: Read this if you want to install the system from scratch.</p></li><li class="listitem"><p><a class="xref" href="#general" title="3. General">Section 3, “General”</a>: Information that everybody should read.</p></li><li class="listitem"><p><a class="xref" href="#upgrade" title="4. System Upgrade">Section 4, “System Upgrade”</a>: Issues related to the process if you run a system upgrade from the previous release to this openSUSE version.</p></li><li class="listitem"><p><a class="xref" href="#technical" title="5. Technical">Section 5, “Technical”</a>: This section contains a number of technical changes and enhancements for the experienced user.</p></li></ul></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="misc"></a>1. Miscellaneous</h2></div></div></div><p>N/A</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation"></a>2. Installation</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id481514"></a>2.1. For Detailed Installation Information</h3></div></div></div><p>For detailed installation information, see the <span class="quote">“<span class="quote">openSUSE Documentation</span>”</span> referenced below.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="general"></a>3. General</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.115.documentation"></a>3.1. openSUSE Documentation</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In Start-Up, find step-by-step installation instructions, as well as introductions to the KDE and Gnome desktops and to the LibreOffice suite. Also covered are basic administration topics such as deployment and software management and an introduction to the bash shell.</p></li><li class="listitem"><p>Reference covers administration, and system configuration in detail and explains how to set up various network services.</p></li><li class="listitem"><p>The Security Guide introduces basic concepts of system security, covering both local and network security aspects.</p></li><li class="listitem"><p>The System Analysis and Tuning Guide helps with problem detection, resolution and optimization.</p></li><li class="listitem"><p>Virtualization with KVM offers an introduction to setting up and managing virtualization with KVM, libvirt and QEMU tools.</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id472328"></a>3.2. Pre-installation Memory Test Incorrectly Identifies Good Memory as Bad</h3></div></div></div><p>The pre-installation memory test (<span class="command"><strong>memtest</strong></span>) on the openSUSE 12.2 media got miscompiled. It reports errors in test 7 on good RAM modules. Use the openSUSE 12.1 media if you need to run <span class="command"><strong>memtest</strong></span>.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrade"></a>4. System Upgrade</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.zypper-openssh"></a>4.1. Remote Update via "zypper dup"</h3></div></div></div><p>When upgrading from openSUSE 12.1 (or older), openSSH connections will be closed when the new openssh package is upgraded. If you are upgrading with "zypper dup" over SSH, run "zypper dup" inside a resumable terminal multiplexer (e.g., "screen" or "tmux") so that you can re-connect easily, or at least immune to connection loss (e.g., via "nohup").</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.sysv"></a>4.2. sysvinit Deprecated</h3></div></div></div><p>Some desktop components depend on services provided by systemd only. So while openSUSE 12.2 still has basic support for booting a system with sysvinit as fallback, sysvinit nevertheless is considered deprecated and probably even faulty or broken in some regard. If you have any issues with a sysvinit booted system, use systemd before filing bug reports.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.cryptoloop"></a>4.3. mount and losetup Dropped Support for cryptoloop</h3></div></div></div><p><span class="command"><strong>cryptoloop</strong></span> has known weaknesses and is therefore considered obsolete in favor of <span class="command"><strong>dm-crypt</strong></span> since years. <span class="command"><strong>mount</strong></span> (e.g., via <code class="filename">/etc/fstab</code>) and <span class="command"><strong>losetup</strong></span> now finally dropped support for <span class="command"><strong>cryptoloop</strong></span>. This means old fstab entries that use <span class="command"><strong>cryptoloop</strong></span> to access encrypted containers no longer work this way. The containers can still be accessed with <span class="command"><strong>dm-crypt</strong></span> (<code class="filename">/etc/crypttab</code>), though. Refer to <a class="ulink" href="http://en.opensuse.org/Encrypted_Filesystems" target="_top">http://en.opensuse.org/Encrypted_Filesystems</a> for examples how to use to the new method.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="crypto-part-systemd"></a>4.4. Mounting Encrypted Partitions Using systemd</h3></div></div></div><p>If encrypted partitions are not automatically mounted when using systemd, the <code class="literal">noauto</code> flag in <code class="filename">/etc/fstab</code> for these partitions could be the cause. Replacing this flag with <code class="literal">nofail</code> will fix it. For instance, change the following line:</p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,noauto 0 2</pre><p>to</p><pre class="screen">/dev/mapper/cr_sda3  /home   ext4    acl,user_xattr,nofail 0 2</pre></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="technical"></a>5. Technical</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.114.kms"></a>5.1. Initializing Graphics with KMS (Kernel Mode Setting)</h3></div></div></div><p>With openSUSE 11.3 we switched to KMS (Kernel Mode Setting) for Intel, ATI and NVIDIA graphics, which now is our default. If you encounter problems with the KMS driver support (intel, radeon, nouveau), disable KMS by adding <code class="literal">nomodeset</code> to the kernel boot command line. To set this permanently using Grub 2, the default boot loader, add it to the <code class="literal">GRUB_CMDLINE_LINUX_DEFAULT</code> kernel default load options line in your <code class="filename">/etc/default/grub</code> text file as root and running the terminal command</p><pre class="screen">sudo /usr/sbin/grub2-mkconfig --output=/boot/grub2/grub.cfg</pre><p>for the changes to take effect. Else, for Grub Legacy, add it to the kernel command line in <code class="filename">/boot/grub/menu.lst</code>, also done as root. This option makes sure the appropriate kernel module (intel, radeon, nouveau) is loaded with <code class="literal">modeset=0</code> in <code class="filename">initrd</code>, i.e. KMS is disabled.</p><p>In the rare cases when loading the DRM module from <code class="filename">initrd</code> is a general problem and unrelated to KMS, it is even possible to disable loading of the DRM module in <code class="filename">initrd</code> completely. For this set the <code class="literal">NO_KMS_IN_INITRD</code> sysconfig variable to <code class="literal">yes</code> via YaST, which then recreates <code class="filename">initrd</code> afterwards. Reboot your machine.</p><p>On Intel without KMS the Xserver falls back to the <code class="literal">fbdev</code> driver (the <code class="literal">intel</code> driver only supports KMS); alternatively, for legacy GPUs from Intel the "intellegacy" driver (<code class="systemitem">xorg-x11-driver-video-intel-legacy</code> package) is available, which still supports UMS (User Mode Setting). To use it, edit <code class="filename">/etc/X11/xorg.conf.d/50-device.conf</code> and change the driver entry to <code class="literal">intellegacy</code>.</p><p>On ATI for current GPUs it falls back to <code class="literal">radeonhd</code>. On NVIDIA without KMS the <code class="literal">nv</code> driver is used (the <code class="literal">nouveau</code> driver supports only KMS). Note, newer ATI and NVIDIA GPUs are falling back to <code class="literal">fbdev</code>, if you specify the <code class="literal">nomodeset</code> kernel boot parameter.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-sysvinit"></a>5.2. Booting with Deprecated sysvinit</h3></div></div></div><p>By default, openSUSE now boots using <span class="command"><strong>systemd</strong></span>. In case of trouble, you can try to switch back to the deprecated <span class="command"><strong>sysvinit</strong></span> way by pressing the F5 key on the boot. For more information about limitations when booting with sysvinit, see <a class="xref" href="#sec.122.sysv" title="4.2. sysvinit Deprecated">Section 4.2, “sysvinit Deprecated”</a>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-ctl"></a>5.3. systemd: Supplying Service Start-up Parameters</h3></div></div></div><p><span class="command"><strong>systemctl</strong></span> only supports "standard" parameters (see <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities" target="_top">http://www.freedesktop.org/wiki/Software/systemd/Incompatibilities</a>).</p><p>You can bypass this new behavior by calling the start-up script directly, for example:</p><pre class="screen">cd /etc/init.d
./apache2 &lt;your_parameters&gt;
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-shutdown"></a>5.4. systemd: System Shutdown</h3></div></div></div><p>To halt and poweroff the system when using <span class="command"><strong>systemd</strong></span>, issue <span class="command"><strong>halt -p</strong></span> or <span class="command"><strong>shutdown -h now</strong></span> on the command-line or use the shutdown button provided by your desktop environment.</p><p>Note: A plain <span class="command"><strong>halt</strong></span> will not shutdown the system properly.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpfs"></a>5.5. systemd: Making Use of tmpfs: /run, /var/run, /media, etc.</h3></div></div></div><p>systemd mounts several directories that are meant to contain volatile data only, as tmpfs filesystems: <code class="filename">/run</code>, <code class="filename">/var/run</code>, <code class="filename">/var/lock</code>, and <code class="filename">/media</code> are those directories. For background information, see <a class="ulink" href="http://lwn.net/Articles/436012/" target="_top">http://lwn.net/Articles/436012/</a>.</p><p>Note: Do not store files that are meant to survive a reboot, in <code class="filename">/run</code>, <code class="filename">/var/run</code>, etc.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.121.systemd-tmpdir"></a>5.6. systemd: Cleaning Directories (/tmp and /var/tmp)</h3></div></div></div><p>systemd maintains directories as specified in the <code class="filename">tmpfiles.d</code> directories and in <code class="filename">/lib/systemd/system/systemd-tmpfiles-clean.timer</code>. For more information, see the <code class="filename">tmpfiles.d</code> manpage.</p><p>By default, systemd cleans <code class="filename">tmp</code> directories daily as configured in <code class="filename">/usr/lib/tmpfiles.d/tmp.conf</code>:</p><pre class="screen">d /tmp 1777 root root 10d
d /var/tmp 1777 root root 30d
</pre><p>Note: systemd does not honor sysconfig variables in <code class="filename">/etc/sysconfig/cron</code> such as <code class="literal">TMP_DIRS_TO_CLEAR</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.mount-usb"></a>5.7. Auto-mounting USB Media</h3></div></div></div><p>Gnome and Xfce now use <code class="literal">udisks2</code> to automatically mount USB media under <code class="filename">/run/media/$USER</code>. KDE still uses udisks version 1 and mounts USB media under <code class="filename">/media</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sec.122.loopback"></a>5.8. Specifying Partitions for Loopback Devices</h3></div></div></div><p>With Kernel 3.4 there are two ways to have partitions for loopback devices. The first is with <code class="literal">max_part</code> and the second is with the <code class="literal">-P</code> parameter to <span class="command"><strong>losetup</strong></span>. They behave slightly differently since <code class="literal">-P</code> will dynamically allocate minor numbers for each device (including adding or removing them on the fly with <span class="command"><strong>blockdev --rereadpt</strong></span>). Using the <code class="literal">max_part</code> parameter causes each loop device to allocate that many minor numbers for each device.</p><p>So when you use <code class="literal">max_part=8</code> and do not change <code class="literal">max_loop</code>, which defaults to <code class="literal">8</code>, you are using all of the allocated minor numbers with the first device.</p><p>The solution is either to use <code class="literal">-P</code> or to <span class="emphasis"><em>also</em></span> use <code class="literal">max_loop</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id511838"></a>5.9. Timezone Information in <code class="filename">/etc/adjtime</code></h3></div></div></div><p>The third line of <code class="filename">/etc/adjtime</code> now contains information whether your BIOS clock runs on UTC or in local timezone (previously stored in <code class="literal">HWCLOCK</code> in <code class="filename">/etc/sysconfig/clock</code>).</p><p>If <code class="filename">/etc/adjtime</code> contains wrong drift information (for example after fixing date and time with <span class="command"><strong>ntpdate</strong></span> or have <span class="command"><strong>ntpd</strong></span> running), set the variable <code class="literal">USE_ADJUST</code> to "<code class="literal">no</code>" in <code class="filename">/etc/sysconfig/clock</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id511905"></a>5.10. GNU tar Defaults to Creating POSIX-compliant Archives</h3></div></div></div><p>GNU tar now defaults to <code class="literal">--format=posix</code> and create POSIX-compliant archives with PAX extended headers. Check whether your scripts and applications are compatible with this format.</p><p>The former behavior (and upstream default) can be restored by setting the environment:</p><pre class="screen">TAR_OPTIONS='--format=gnu'</pre><p>or</p><pre class="screen">TAR_OPTIONS='--pax-option=delete=[ac]time*'</pre></div></div></div></body></html>
